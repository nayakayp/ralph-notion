{"id":"notionv2-clone-0gd","title":"Embed Blocks (500+ Services)","description":"## Overview\nImplement embed blocks supporting various third-party services and generic iframe embeds.\n\n## Tech Stack\n- **Editor**: Slate.js\n- **Embed Detection**: URL parsing, Iframely/Embedly API (optional)\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Embed Block Core\n- [ ] URL input field\n- [ ] Auto-detect embed type\n- [ ] Loading state\n- [ ] Error state (invalid URL)\n- [ ] Resize embed (width/height)\n- [ ] Caption support\n\n### 2. Video Embeds\n- [ ] YouTube (with timestamps)\n- [ ] Vimeo\n- [ ] Loom\n- [ ] Wistia\n- [ ] Twitch\n- [ ] TikTok\n\n### 3. Design Tool Embeds\n- [ ] Figma (interactive)\n- [ ] Miro (interactive)\n- [ ] Framer\n- [ ] Abstract\n- [ ] InVision\n- [ ] Sketch\n- [ ] Canva\n\n### 4. Code Embeds\n- [ ] GitHub Gist\n- [ ] CodePen\n- [ ] CodeSandbox\n- [ ] Replit\n- [ ] JSFiddle\n- [ ] StackBlitz\n\n### 5. Social Media Embeds\n- [ ] Twitter/X posts\n- [ ] Instagram posts\n- [ ] LinkedIn posts\n- [ ] Reddit posts\n- [ ] Facebook posts\n\n### 6. Document Embeds\n- [ ] Google Docs\n- [ ] Google Sheets\n- [ ] Google Slides\n- [ ] Google Drive files\n- [ ] Microsoft Office Online\n- [ ] Notion pages (external)\n\n### 7. Form \u0026 Survey Embeds\n- [ ] Typeform\n- [ ] Google Forms\n- [ ] Tally\n- [ ] JotForm\n- [ ] Airtable\n\n### 8. Map Embeds\n- [ ] Google Maps\n- [ ] OpenStreetMap\n\n### 9. Audio Embeds\n- [ ] Spotify (tracks, playlists, podcasts)\n- [ ] SoundCloud\n- [ ] Apple Music\n\n### 10. Other Embeds\n- [ ] Calendly\n- [ ] Excalidraw\n- [ ] Whimsical\n- [ ] Lucidchart\n- [ ] Draw.io\n\n### 11. Generic Embeds\n- [ ] iFrame embed (any URL)\n- [ ] oEmbed protocol support\n- [ ] Custom embed HTML (admin only)\n- [ ] URL metadata extraction\n\n### 12. Embed Service Architecture\n```typescript\ninterface EmbedProvider {\n  name: string;\n  patterns: RegExp[];\n  getEmbedUrl: (url: string) =\u003e string;\n  defaultHeight: number;\n  defaultWidth: number | 'full';\n  allowResize: boolean;\n}\n\nconst providers: EmbedProvider[] = [\n  {\n    name: 'youtube',\n    patterns: [/youtube\\.com\\/watch/, /youtu\\.be\\//],\n    getEmbedUrl: (url) =\u003e transformYouTubeUrl(url),\n    defaultHeight: 400,\n    defaultWidth: 'full',\n    allowResize: true,\n  },\n  // ... 50+ providers\n];\n```\n\n### 13. Components\n- [ ] EmbedBlock (container)\n- [ ] EmbedPlaceholder (URL input)\n- [ ] EmbedLoading\n- [ ] EmbedError\n- [ ] EmbedFrame (iframe wrapper)\n- [ ] EmbedResize handles\n- [ ] Provider-specific components (optional)\n\n### 14. Security\n- [ ] Sandbox iframe\n- [ ] CSP headers\n- [ ] Allowed domains whitelist\n- [ ] XSS prevention\n\n## Acceptance Criteria\n- [ ] YouTube embeds work with all URL formats\n- [ ] Figma embeds are interactive\n- [ ] Twitter embeds render correctly\n- [ ] Google Docs embeds work\n- [ ] Code embeds work (Gist, CodePen)\n- [ ] Generic iframe works for unlisted URLs\n- [ ] Embeds resize correctly\n- [ ] Embeds are sandboxed securely\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:46:37.474101+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:46:37.474101+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-0gd","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:46:37.477238+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-0gd","depends_on_id":"notionv2-clone-aeq","type":"blocks","created_at":"2026-01-07T00:27:24.236123+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-0xd","title":"Database Core \u0026 Properties System","description":"## Overview\nImplement the core database system with property types and database items.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Query\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Database Creation\n- [ ] Create inline database (in page)\n- [ ] Create full-page database\n- [ ] Database from template\n- [ ] Database title editing\n- [ ] Database icon\n\n### 2. Property Types (All 22)\n```typescript\ntype PropertyType =\n  | 'title'        // Primary key, required\n  | 'text'         // Rich text\n  | 'number'       // With format options\n  | 'select'       // Single choice\n  | 'multi_select' // Multiple tags\n  | 'status'       // To Do, In Progress, Done\n  | 'date'         // With time, end date, reminders\n  | 'person'       // Workspace members\n  | 'files'        // File attachments\n  | 'checkbox'     // Boolean\n  | 'url'          // URL with link\n  | 'email'        // Email with mailto\n  | 'phone'        // Phone number\n  | 'formula'      // Calculated field\n  | 'relation'     // Link to other database\n  | 'rollup'       // Aggregate from relation\n  | 'created_time' // Auto timestamp\n  | 'created_by'   // Auto user\n  | 'last_edited_time'\n  | 'last_edited_by'\n  | 'button'       // Action button\n  | 'id';          // Auto-increment\n```\n\n### 3. Property Configuration\n- [ ] Property name editing\n- [ ] Property type selection\n- [ ] Type-specific options:\n  - Number: format (number, currency, percent)\n  - Select/Multi-select: options management\n  - Status: groups (To Do, In Progress, Done)\n  - Date: date format, include time\n  - Relation: target database selection\n  - Rollup: relation, property, calculation\n- [ ] Property reordering\n- [ ] Property deletion\n- [ ] Duplicate property\n\n### 4. Select/Multi-Select Options\n- [ ] Add new option\n- [ ] Edit option name\n- [ ] Option colors (10+ colors)\n- [ ] Reorder options\n- [ ] Delete option\n- [ ] Option usage count\n\n### 5. Status Property\n- [ ] Default groups: To Do, In Progress, Complete\n- [ ] Custom status options per group\n- [ ] Status colors\n- [ ] Status option management\n\n### 6. Database Items (Pages)\n- [ ] Create new item\n- [ ] Item is a page with properties\n- [ ] Edit property values\n- [ ] Open item as page\n- [ ] Delete item\n- [ ] Duplicate item\n\n### 7. Property Value Editors\n- [ ] TitleEditor (rich text)\n- [ ] TextEditor (rich text)\n- [ ] NumberEditor (input with format)\n- [ ] SelectEditor (dropdown)\n- [ ] MultiSelectEditor (multi-dropdown)\n- [ ] StatusEditor (grouped dropdown)\n- [ ] DateEditor (calendar picker)\n- [ ] PersonEditor (user picker)\n- [ ] FilesEditor (file uploader)\n- [ ] CheckboxEditor (toggle)\n- [ ] URLEditor (input with preview)\n- [ ] EmailEditor (input)\n- [ ] PhoneEditor (input)\n- [ ] FormulaDisplay (read-only)\n- [ ] RelationEditor (database item picker)\n- [ ] RollupDisplay (read-only)\n\n### 8. API Endpoints\n```\n# Databases\nPOST   /api/databases\nGET    /api/databases/:id\nPUT    /api/databases/:id\nDELETE /api/databases/:id\n\n# Properties\nPOST   /api/databases/:id/properties\nPUT    /api/databases/:id/properties/:propId\nDELETE /api/databases/:id/properties/:propId\nPUT    /api/databases/:id/properties/reorder\n\n# Items\nGET    /api/databases/:id/items\nPOST   /api/databases/:id/items\nPUT    /api/databases/:id/items/:itemId\nDELETE /api/databases/:id/items/:itemId\n\n# Property values\nPUT    /api/pages/:pageId/properties/:propId\n```\n\n### 9. Database State\n```typescript\ninterface DatabaseStore {\n  databases: Map\u003cstring, Database\u003e;\n  properties: Map\u003cstring, Property[]\u003e;\n  items: Map\u003cstring, DatabaseItem[]\u003e;\n}\n```\n\n## Acceptance Criteria\n- [ ] Databases can be created inline and full-page\n- [ ] All 22 property types work\n- [ ] Property configuration works\n- [ ] Select options can be managed\n- [ ] Status groups work\n- [ ] Database items CRUD works\n- [ ] Property values save correctly\n- [ ] All property editors work\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-wex (Rich Text Editor)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:48:12.89985+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:48:12.89985+07:00","labels":["backend","feature","frontend","priority-critical"],"dependencies":[{"issue_id":"notionv2-clone-0xd","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:48:12.904809+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-0xd","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:48:12.906257+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-0xd","depends_on_id":"notionv2-clone-tdo","type":"blocks","created_at":"2026-01-07T00:27:24.4863+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-10m","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-gwv\n- **Test type**:  Database Timeline/Gantt View\n\n## Focus Areas\nfrontend:Timeline render, date range bars, drag to resize, dependencies\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Timeline/Gantt View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.33489+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.33489+07:00","labels":[" Database Timeline/Gantt View","test"],"dependencies":[{"issue_id":"notionv2-clone-10m","depends_on_id":"notionv2-clone-gwv","type":"blocks","created_at":"2026-01-07T00:27:45.473031+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-1bv","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-ot4\n- **Test type**:  Backlinks \u0026 Connections\n\n## Focus Areas\nfull-stack:Backlink tracking/display, link graph\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Backlinks \u0026 Connections","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.919421+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.919421+07:00","labels":[" Backlinks \u0026 Connections","test"],"dependencies":[{"issue_id":"notionv2-clone-1bv","depends_on_id":"notionv2-clone-ot4","type":"blocks","created_at":"2026-01-07T00:29:46.827982+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-1ce","title":"Real-Time Collaboration System","description":"## Overview\nImplement real-time collaboration with simultaneous editing, live cursors, and presence.\n\n## Tech Stack\n- **WebSocket**: Hono WebSocket or separate WS server\n- **CRDT/OT**: Yjs or custom operational transform\n- **Frontend**: React hooks for real-time state\n\n## Features\n\n### 1. WebSocket Infrastructure\n- [ ] WebSocket server setup\n- [ ] Connection management\n- [ ] Authentication over WS\n- [ ] Reconnection handling\n- [ ] Heartbeat/ping-pong\n\n### 2. Presence System\n- [ ] User online status\n- [ ] Currently viewing page\n- [ ] User avatar display\n- [ ] User list on page\n- [ ] Idle detection\n\n### 3. Live Cursors\n- [ ] Show other users' cursors\n- [ ] Cursor position sync\n- [ ] Cursor user label\n- [ ] Cursor color per user\n- [ ] Selection highlighting\n\n### 4. Real-Time Text Sync\n- [ ] Conflict-free text editing\n- [ ] Character-level sync\n- [ ] Block-level changes\n- [ ] Undo/redo per user\n\n### 5. Operational Transform / CRDT\n- [ ] Yjs integration for Slate.js\n- [ ] Document state sync\n- [ ] Offline editing support\n- [ ] Merge on reconnect\n\n### 6. Database Real-Time\n- [ ] Property value updates\n- [ ] New item notifications\n- [ ] Deleted item notifications\n- [ ] View changes sync\n\n### 7. Page Structure Sync\n- [ ] Block creation\n- [ ] Block deletion\n- [ ] Block reordering\n- [ ] Block type changes\n\n### 8. Notifications\n- [ ] Real-time notifications\n- [ ] New comments\n- [ ] Mentions\n- [ ] Page updates\n\n### 9. Collaboration Indicators\n- [ ] \"X is editing\" indicator\n- [ ] Block being edited highlight\n- [ ] Recent editors list\n- [ ] Last edited timestamp\n\n### 10. Performance\n- [ ] Throttled updates\n- [ ] Batched operations\n- [ ] Delta sync (not full doc)\n- [ ] Binary protocol (optional)\n\n### 11. Components\n- [ ] CollaborationProvider\n- [ ] PresenceAvatars\n- [ ] LiveCursor\n- [ ] CursorOverlay\n- [ ] CollaboratorsList\n\n### 12. API/Events\n```typescript\n// WebSocket events\ninterface WSMessage {\n  type: 'presence' | 'cursor' | 'operation' | 'notification';\n  payload: any;\n}\n\n// Operations\ninterface Operation {\n  type: 'insert' | 'delete' | 'update' | 'move';\n  path: string[];\n  data: any;\n  userId: string;\n  timestamp: number;\n}\n```\n\n## Architecture\n```\nClient A ─┐\n          ├─► WebSocket Server ─► Broadcast to clients\nClient B ─┘         │\n                    ▼\n              Database (persistent state)\n```\n\n## Acceptance Criteria\n- [ ] Multiple users can edit same page\n- [ ] Live cursors show correctly\n- [ ] Text changes sync in real-time\n- [ ] No data loss on conflicts\n- [ ] Offline editing works\n- [ ] Reconnection syncs changes\n- [ ] Presence shows online users\n- [ ] Performance is acceptable\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor)\n- notionv2-clone-a5p (Page CRUD)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:55:19.806757+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:55:19.806757+07:00","labels":["backend","feature","frontend","priority-high"],"dependencies":[{"issue_id":"notionv2-clone-1ce","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:55:19.810837+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-1ce","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:55:19.812373+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-1ce","depends_on_id":"notionv2-clone-66o","type":"blocks","created_at":"2026-01-07T00:28:42.56813+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-1ej","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-7ug\n- **Test type**:  Trash \u0026 Recovery\n\n## Focus Areas\nfull-stack:Delete to trash, listing, restore, permanent delete, auto-cleanup\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Trash \u0026 Recovery","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.04299+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.04299+07:00","labels":[" Trash \u0026 Recovery","test"],"dependencies":[{"issue_id":"notionv2-clone-1ej","depends_on_id":"notionv2-clone-7ug","type":"blocks","created_at":"2026-01-07T00:29:03.822349+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-1ux","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-2nk\n- **Test type**:  AI Database Properties\n\n## Focus Areas\nfull-stack:AI summary/keywords/translation properties\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: AI Database Properties","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.338281+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.338281+07:00","labels":[" AI Database Properties","test"],"dependencies":[{"issue_id":"notionv2-clone-1ux","depends_on_id":"notionv2-clone-2nk","type":"blocks","created_at":"2026-01-07T00:29:05.362231+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-23b","title":"User Profile \u0026 Settings Management","description":"## Overview\nImplement user profile management and personal settings.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Form, Zustand\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. User Profile\n- [ ] Profile page (/settings/profile)\n- [ ] Display/edit name\n- [ ] Upload/change avatar (image cropping)\n- [ ] Email display (read-only, verified badge)\n- [ ] Account creation date\n\n### 2. Profile API Endpoints\n```\nGET    /api/users/me\nPUT    /api/users/me\nPOST   /api/users/me/avatar\nDELETE /api/users/me/avatar\nDELETE /api/users/me (account deletion)\n```\n\n### 3. Account Settings\n- [ ] Change email (with re-verification)\n- [ ] Change password (current + new)\n- [ ] Connected accounts (OAuth) management\n- [ ] Two-factor authentication settings\n- [ ] Active sessions management\n- [ ] Account deletion with confirmation\n\n### 4. Preference Settings\n- [ ] Theme selection (light/dark/system)\n- [ ] Language selection\n- [ ] Timezone selection\n- [ ] Date format preference\n- [ ] Start week on (Sunday/Monday)\n- [ ] Notification preferences (email, push, in-app)\n\n### 5. Frontend Components\n- [ ] ProfileForm component (TanStack Form)\n- [ ] AvatarUpload component with cropping\n- [ ] PasswordChangeForm component\n- [ ] ConnectedAccountsList component\n- [ ] SessionsList component\n- [ ] PreferencesForm component\n- [ ] ThemeToggle component\n\n### 6. State Management (Zustand)\n```typescript\ninterface UserStore {\n  user: User | null;\n  preferences: UserPreferences;\n  setUser: (user: User) =\u003e void;\n  updatePreferences: (prefs: Partial\u003cUserPreferences\u003e) =\u003e void;\n  logout: () =\u003e void;\n}\n```\n\n## Acceptance Criteria\n- [ ] User can update profile information\n- [ ] Avatar upload works with cropping\n- [ ] Password change works securely\n- [ ] OAuth accounts can be linked/unlinked\n- [ ] Preferences persist across sessions\n- [ ] Theme changes apply immediately\n- [ ] Account deletion works with data cleanup\n\n## Dependencies\n- notionv2-clone-fxs (Authentication)\n- notionv2-clone-nwf (Database Schema)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:42:13.833865+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:42:13.833865+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-23b","depends_on_id":"notionv2-clone-fxs","type":"blocks","created_at":"2026-01-06T23:42:13.837317+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-23b","depends_on_id":"notionv2-clone-nwf","type":"blocks","created_at":"2026-01-06T23:42:13.838562+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-23b","depends_on_id":"notionv2-clone-8y5","type":"blocks","created_at":"2026-01-07T00:27:02.10475+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-28k","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-xru\n- **Test type**:  File Storage (S3/Local)\n\n## Focus Areas\nbackend:File upload/download/deletion, presigned URLs, storage limits\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: File Storage (S3/Local)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.974846+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.974846+07:00","labels":[" File Storage (S3/Local)","test"],"dependencies":[{"issue_id":"notionv2-clone-28k","depends_on_id":"notionv2-clone-xru","type":"blocks","created_at":"2026-01-07T00:29:48.018258+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-2mt","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-fne\n- **Test type**:  Notifications \u0026 Inbox\n\n## Focus Areas\nfull-stack:Notification creation, inbox display, mark as read, preferences\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Notifications \u0026 Inbox","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.220774+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.220774+07:00","labels":[" Notifications \u0026 Inbox","test"],"dependencies":[{"issue_id":"notionv2-clone-2mt","depends_on_id":"notionv2-clone-fne","type":"blocks","created_at":"2026-01-07T00:29:04.556044+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-2nk","title":"AI Database Properties","description":"## Overview\nImplement AI-powered database properties for auto-generation and analysis.\n\n## Tech Stack\n- **Backend**: Hono, OpenAI API\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. AI Summary Property\n- [ ] Auto-summarize page content\n- [ ] Configurable summary length\n- [ ] Update on content change\n- [ ] Manual refresh\n\n### 2. AI Keywords Property\n- [ ] Extract keywords from content\n- [ ] Auto-tag items\n- [ ] Keyword count limit\n- [ ] Create as multi-select\n\n### 3. AI Translation Property\n- [ ] Translate title to language\n- [ ] Translate property values\n- [ ] Multiple target languages\n\n### 4. AI Classification\n- [ ] Categorize items\n- [ ] Sentiment analysis\n- [ ] Priority suggestion\n- [ ] Type detection\n\n### 5. AI Fill Property\n- [ ] Fill empty properties\n- [ ] Based on other properties\n- [ ] Pattern detection\n- [ ] Bulk fill\n\n### 6. AI Formula Generation\n- [ ] Natural language to formula\n- [ ] Explain formula\n- [ ] Fix formula errors\n- [ ] Suggest improvements\n\n### 7. AI Property Configuration\n- [ ] AI property type in schema\n- [ ] Prompt configuration\n- [ ] Source properties\n- [ ] Update trigger (auto/manual)\n\n### 8. Batch Processing\n- [ ] Process multiple items\n- [ ] Background processing\n- [ ] Progress indicator\n- [ ] Credit usage tracking\n\n### 9. API Endpoints\n```\nPOST /api/ai/database/:id/summarize\nPOST /api/ai/database/:id/keywords\nPOST /api/ai/database/:id/translate\nPOST /api/ai/database/:id/classify\nPOST /api/ai/database/:id/fill\nPOST /api/ai/formula/generate\n```\n\n### 10. Components\n- [ ] AIPropertyConfig\n- [ ] AISummaryProperty\n- [ ] AIKeywordsProperty\n- [ ] AITranslationProperty\n- [ ] AIFillDialog\n- [ ] AIFormulaAssist\n\n## Acceptance Criteria\n- [ ] AI summary generates correctly\n- [ ] AI keywords extract accurately\n- [ ] AI translation works\n- [ ] AI classification works\n- [ ] Batch processing works\n- [ ] AI formulas generate correctly\n- [ ] Credit tracking works\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)\n- notionv2-clone-yoh (AI Writing Assistant)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:02:33.57598+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:02:33.57598+07:00","labels":["ai","backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-2nk","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-07T00:02:33.57853+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-2nk","depends_on_id":"notionv2-clone-yoh","type":"blocks","created_at":"2026-01-07T00:02:33.579727+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-2nk","depends_on_id":"notionv2-clone-pkq","type":"blocks","created_at":"2026-01-07T00:29:05.722954+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-2vu","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-0gd\n- **Test type**:  Embed Blocks\n\n## Focus Areas\nfrontend:YouTube, Figma, Google Docs, Twitter, generic URL embed\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Embed Blocks","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.862354+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.862354+07:00","labels":[" Embed Blocks","test"],"dependencies":[{"issue_id":"notionv2-clone-2vu","depends_on_id":"notionv2-clone-0gd","type":"blocks","created_at":"2026-01-07T00:27:24.178104+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-2ys","title":"Workspace Management System","description":"## Overview\nImplement complete workspace management including creation, switching, settings, and member management.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Query, Zustand\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Workspace CRUD\n- [ ] Create new workspace\n- [ ] Workspace name and icon\n- [ ] Workspace slug (URL-friendly)\n- [ ] Update workspace settings\n- [ ] Delete workspace (owner only)\n- [ ] Workspace icon upload\n\n### 2. Workspace Switching\n- [ ] Workspace switcher dropdown in sidebar\n- [ ] Quick switch between workspaces\n- [ ] Last used workspace persistence\n- [ ] Create workspace from switcher\n\n### 3. Member Management\n- [ ] Invite members by email\n- [ ] Pending invitations list\n- [ ] Accept/decline invitations\n- [ ] Member roles (Owner, Admin, Member, Guest)\n- [ ] Change member roles\n- [ ] Remove members\n- [ ] Leave workspace\n- [ ] Transfer ownership\n\n### 4. Teamspaces\n- [ ] Create teamspaces within workspace\n- [ ] Default teamspace\n- [ ] Teamspace settings (name, icon, description)\n- [ ] Teamspace member management\n- [ ] Teamspace visibility settings\n- [ ] Archive/delete teamspace\n\n### 5. Workspace Settings Pages\n- [ ] /settings/workspace - General settings\n- [ ] /settings/workspace/members - Member management\n- [ ] /settings/workspace/teamspaces - Teamspace management\n- [ ] /settings/workspace/security - Security settings\n- [ ] /settings/workspace/billing - Plan \u0026 billing\n\n### 6. API Endpoints\n```\n# Workspaces\nGET    /api/workspaces\nPOST   /api/workspaces\nGET    /api/workspaces/:id\nPUT    /api/workspaces/:id\nDELETE /api/workspaces/:id\n\n# Members\nGET    /api/workspaces/:id/members\nPOST   /api/workspaces/:id/members/invite\nPUT    /api/workspaces/:id/members/:userId\nDELETE /api/workspaces/:id/members/:userId\n\n# Invitations\nGET    /api/invitations\nPOST   /api/invitations/:id/accept\nPOST   /api/invitations/:id/decline\n\n# Teamspaces\nGET    /api/workspaces/:id/teamspaces\nPOST   /api/workspaces/:id/teamspaces\nPUT    /api/workspaces/:id/teamspaces/:teamspaceId\nDELETE /api/workspaces/:id/teamspaces/:teamspaceId\n```\n\n### 7. State Management (Zustand)\n```typescript\ninterface WorkspaceStore {\n  workspaces: Workspace[];\n  currentWorkspace: Workspace | null;\n  teamspaces: Teamspace[];\n  currentTeamspace: Teamspace | null;\n  setCurrentWorkspace: (workspace: Workspace) =\u003e void;\n  setCurrentTeamspace: (teamspace: Teamspace) =\u003e void;\n}\n```\n\n### 8. Frontend Components\n- [ ] WorkspaceSwitcher dropdown\n- [ ] WorkspaceCreateDialog\n- [ ] WorkspaceSettingsForm\n- [ ] MemberList with role badges\n- [ ] InviteMemberDialog\n- [ ] TeamspaceList\n- [ ] TeamspaceCreateDialog\n\n## Acceptance Criteria\n- [ ] Users can create multiple workspaces\n- [ ] Workspace switching works seamlessly\n- [ ] Member invitations work via email\n- [ ] Role-based permissions enforced\n- [ ] Teamspaces can be created and managed\n- [ ] Settings pages fully functional\n- [ ] Workspace deletion cascades properly\n\n## Dependencies\n- notionv2-clone-fxs (Authentication)\n- notionv2-clone-nwf (Database Schema)\n- notionv2-clone-23b (User Profile)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:42:39.820842+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:42:39.820842+07:00","labels":["backend","feature","frontend","priority-high"],"dependencies":[{"issue_id":"notionv2-clone-2ys","depends_on_id":"notionv2-clone-fxs","type":"blocks","created_at":"2026-01-06T23:42:39.823909+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-2ys","depends_on_id":"notionv2-clone-nwf","type":"blocks","created_at":"2026-01-06T23:42:39.825275+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-2ys","depends_on_id":"notionv2-clone-23b","type":"blocks","created_at":"2026-01-06T23:42:39.826349+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-2ys","depends_on_id":"notionv2-clone-4ja","type":"blocks","created_at":"2026-01-07T00:27:02.23278+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-30k","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-s2r\n- **Test type**:  Accessibility (a11y)\n\n## Focus Areas\nfrontend:Keyboard nav, screen reader, focus indicators, ARIA labels, color contrast\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Accessibility (a11y)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.679014+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.679014+07:00","labels":[" Accessibility (a11y)","test"],"dependencies":[{"issue_id":"notionv2-clone-30k","depends_on_id":"notionv2-clone-s2r","type":"blocks","created_at":"2026-01-07T00:29:43.101011+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-31o","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-wex\n- **Test type**:  Rich Text Editor (Slate.js)\n\n## Focus Areas\nfrontend:Editor init, typing, headings, lists, toggles, slash commands, markdown shortcuts\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Rich Text Editor (Slate.js)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.630008+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.630008+07:00","labels":[" Rich Text Editor (Slate.js)","test"],"dependencies":[{"issue_id":"notionv2-clone-31o","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-07T00:27:23.658053+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-3eg","title":"Database Table View","description":"## Overview\nImplement the table view for databases with full spreadsheet-like functionality.\n\n## Tech Stack\n- **Frontend**: TanStack Table, TanStack Virtual\n- **UI**: Shadcn UI\n- **Drag \u0026 Drop**: @dnd-kit/core\n\n## Features\n\n### 1. Table Structure\n- [ ] Column headers (property names)\n- [ ] Rows (database items)\n- [ ] Sticky header row\n- [ ] Sticky title column (optional)\n- [ ] Row numbers (optional)\n\n### 2. Column Features\n- [ ] Resize columns (drag handle)\n- [ ] Reorder columns (drag header)\n- [ ] Hide/show columns\n- [ ] Column width persistence\n- [ ] Auto-fit column width\n- [ ] Wrap text option\n\n### 3. Row Features\n- [ ] Row hover highlight\n- [ ] Row selection (checkbox)\n- [ ] Multi-row selection\n- [ ] New row button (bottom)\n- [ ] Row height adjustment\n\n### 4. Cell Editing\n- [ ] Click to edit\n- [ ] Tab to next cell\n- [ ] Enter to confirm and move down\n- [ ] Escape to cancel\n- [ ] Inline property editors\n- [ ] Cell overflow handling\n\n### 5. Header Actions\n- [ ] Click header to sort\n- [ ] Sort indicator (asc/desc)\n- [ ] Header right-click menu:\n  - Sort ascending\n  - Sort descending\n  - Filter by this property\n  - Hide property\n  - Duplicate property\n  - Delete property\n  - Insert left\n  - Insert right\n\n### 6. Row Actions\n- [ ] Row hover menu (open, delete)\n- [ ] Row right-click context menu\n- [ ] Bulk actions on selection\n\n### 7. Calculations Row\n- [ ] Footer row with calculations\n- [ ] Per-column calculation selection:\n  - Count all\n  - Count values\n  - Count unique\n  - Count empty\n  - Count not empty\n  - Percent empty\n  - Percent not empty\n  - Sum\n  - Average\n  - Median\n  - Min\n  - Max\n  - Range\n  - Earliest date\n  - Latest date\n  - Date range\n\n### 8. Keyboard Navigation\n- [ ] Arrow keys to navigate cells\n- [ ] Tab/Shift+Tab for columns\n- [ ] Enter to edit/confirm\n- [ ] Escape to cancel\n- [ ] Cmd+A to select all\n\n### 9. Virtual Scrolling\n- [ ] TanStack Virtual for large tables\n- [ ] Smooth scrolling\n- [ ] Maintain scroll position on update\n- [ ] Dynamic row heights\n\n### 10. Performance\n- [ ] Render only visible rows\n- [ ] Debounced cell updates\n- [ ] Optimistic updates\n- [ ] Efficient re-renders\n\n### 11. Components\n- [ ] TableView container\n- [ ] TableHeader\n- [ ] TableHeaderCell\n- [ ] TableBody\n- [ ] TableRow\n- [ ] TableCell\n- [ ] TableFooter (calculations)\n- [ ] ColumnResizer\n- [ ] NewRowButton\n\n## Table State\n```typescript\ninterface TableViewState {\n  columnWidths: Record\u003cstring, number\u003e;\n  columnOrder: string[];\n  hiddenColumns: string[];\n  sorts: Sort[];\n  calculations: Record\u003cstring, CalculationType\u003e;\n}\n```\n\n## Acceptance Criteria\n- [ ] Table displays all properties as columns\n- [ ] All property types render correctly\n- [ ] Cell editing works for all types\n- [ ] Column resize persists\n- [ ] Column reorder works\n- [ ] Sorting works (single and multi)\n- [ ] Calculations row shows correct values\n- [ ] Virtual scroll handles 1000+ rows\n- [ ] Keyboard navigation works\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:48:45.662317+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:48:45.662317+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-3eg","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:48:45.675514+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-3eg","depends_on_id":"notionv2-clone-3x3","type":"blocks","created_at":"2026-01-07T00:27:44.748144+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-3jn","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-dn2\n- **Test type**:  Import System\n\n## Focus Areas\nfull-stack:Markdown/HTML/CSV/Notion import\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Import System","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.106734+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.106734+07:00","labels":[" Import System","test"],"dependencies":[{"issue_id":"notionv2-clone-3jn","depends_on_id":"notionv2-clone-dn2","type":"blocks","created_at":"2026-01-07T00:29:04.056052+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-3oa","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-6ed\n- **Test type**:  Home Dashboard\n\n## Focus Areas\nfrontend:Dashboard render, recent pages, quick actions, widget customization\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Home Dashboard","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.862302+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.862302+07:00","labels":[" Home Dashboard","test"],"dependencies":[{"issue_id":"notionv2-clone-3oa","depends_on_id":"notionv2-clone-6ed","type":"blocks","created_at":"2026-01-07T00:29:45.687766+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-3x3","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-0xd\n- **Test type**:  Database Core \u0026 Properties\n\n## Focus Areas\nfull-stack:Create database, all property types, property CRUD, row CRUD, validation\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Core \u0026 Properties","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.980397+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.980397+07:00","labels":[" Database Core \u0026 Properties","test"],"dependencies":[{"issue_id":"notionv2-clone-3x3","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-07T00:27:24.426629+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-4d8","title":"Database Board/Kanban View","description":"## Overview\nImplement the Board/Kanban view for databases with drag-and-drop card management.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Drag \u0026 Drop**: @dnd-kit/core\n- **Animations**: Framer Motion\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Board Structure\n- [ ] Columns represent group values (Select/Status property)\n- [ ] Cards represent database items\n- [ ] Horizontal scrolling for many columns\n- [ ] Column headers with count\n\n### 2. Group By Options\n- [ ] Group by Select property\n- [ ] Group by Status property\n- [ ] Group by Person property\n- [ ] Group by Checkbox\n- [ ] Group by Date (by day/week/month)\n- [ ] No group option (single column)\n\n### 3. Sub-Groups\n- [ ] Second level grouping\n- [ ] Collapsible sub-groups\n- [ ] Sub-group headers\n\n### 4. Card Display\n- [ ] Card preview (title + selected properties)\n- [ ] Card cover image (first image or files property)\n- [ ] Card icon\n- [ ] Property pills/badges\n- [ ] Card size options (small, medium, large)\n- [ ] Show/hide properties on card\n\n### 5. Drag \u0026 Drop\n- [ ] Drag cards within column (reorder)\n- [ ] Drag cards between columns (change group value)\n- [ ] Drop indicators\n- [ ] Smooth animations\n- [ ] Auto-scroll on drag to edge\n\n### 6. Column Features\n- [ ] Collapse/expand columns\n- [ ] Hide empty columns\n- [ ] Column limit (WIP limit indicator)\n- [ ] Add new column (creates Select option)\n- [ ] Column color (from Select color)\n\n### 7. Card Actions\n- [ ] Click to open page\n- [ ] Hover menu (open, delete)\n- [ ] Right-click context menu\n- [ ] Quick property edit from card\n\n### 8. New Card\n- [ ] \"+\" button in column\n- [ ] New card at top or bottom option\n- [ ] Quick title entry\n- [ ] Auto-set group property\n\n### 9. Empty States\n- [ ] Empty column state\n- [ ] No items in database state\n- [ ] \"Add a Select property to group by\" state\n\n### 10. Components\n- [ ] BoardView container\n- [ ] BoardColumn\n- [ ] BoardColumnHeader\n- [ ] BoardCard\n- [ ] BoardCardPreview\n- [ ] NewCardButton\n- [ ] BoardDndContext\n\n## Board State\n```typescript\ninterface BoardViewState {\n  groupBy: string | null; // Property ID\n  subGroupBy: string | null;\n  cardSize: 'small' | 'medium' | 'large';\n  cardCover: 'none' | 'page_cover' | 'page_content' | string;\n  cardProperties: string[]; // Visible property IDs\n  collapsedColumns: string[];\n  hiddenColumns: string[];\n}\n```\n\n## Acceptance Criteria\n- [ ] Board displays grouped cards\n- [ ] Drag and drop works between columns\n- [ ] Drag updates the group property value\n- [ ] Card previews show selected properties\n- [ ] Column collapse/expand works\n- [ ] Sub-grouping works\n- [ ] New card creation in column works\n- [ ] Card click opens item page\n- [ ] Performance is smooth with 100+ cards\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:49:20.69013+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:49:20.69013+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-4d8","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:49:20.69284+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-4d8","depends_on_id":"notionv2-clone-lyj","type":"blocks","created_at":"2026-01-07T00:27:44.871043+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-4ek","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-mna\n- **Test type**:  Template System\n\n## Focus Areas\nfull-stack:Create/use template, gallery, database templates, repeating templates\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Template System","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.864195+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.864195+07:00","labels":[" Template System","test"],"dependencies":[{"issue_id":"notionv2-clone-4ek","depends_on_id":"notionv2-clone-mna","type":"blocks","created_at":"2026-01-07T00:28:43.156587+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-4ja","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-23b\n- **Test type**:  User Profile \u0026 Settings\n\n## Focus Areas\nfull-stack:Profile fetch/update, avatar upload, settings CRUD\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: User Profile \u0026 Settings","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.396628+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.396628+07:00","labels":[" User Profile \u0026 Settings","test"],"dependencies":[{"issue_id":"notionv2-clone-4ja","depends_on_id":"notionv2-clone-23b","type":"blocks","created_at":"2026-01-07T00:27:02.04412+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-4qm","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-rj6\n- **Test type**:  Export System\n\n## Focus Areas\nfull-stack:Markdown/HTML/PDF/CSV export\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Export System","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.164418+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.164418+07:00","labels":[" Export System","test"],"dependencies":[{"issue_id":"notionv2-clone-4qm","depends_on_id":"notionv2-clone-rj6","type":"blocks","created_at":"2026-01-07T00:29:04.295647+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-5lr","title":"Database Calendar View","description":"## Overview\nImplement the Calendar view for databases to display date-based items.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Date Handling**: date-fns\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Calendar Layout\n- [ ] Month view (default)\n- [ ] Week view\n- [ ] Day cells with items\n- [ ] Today highlight\n- [ ] Current month display\n\n### 2. Navigation\n- [ ] Previous/Next month arrows\n- [ ] Today button\n- [ ] Month/Year picker\n- [ ] Keyboard navigation\n\n### 3. Date Property Selection\n- [ ] Select which date property to use\n- [ ] Support for date ranges (start + end)\n- [ ] Fallback to created_at if no date property\n\n### 4. Item Display\n- [ ] Items on their date cell\n- [ ] Item title preview\n- [ ] Item color (from Select property)\n- [ ] Overflow handling (+N more)\n- [ ] Click to open item\n\n### 5. Date Range Items\n- [ ] Span across multiple days\n- [ ] Visual bar for range\n- [ ] Start and end indicators\n\n### 6. Item Actions\n- [ ] Click to open\n- [ ] Drag to different date (updates property)\n- [ ] Drag to resize range\n- [ ] Right-click menu\n\n### 7. Create from Calendar\n- [ ] Click date to create item\n- [ ] Auto-set date property\n- [ ] Drag to create range\n\n### 8. Settings\n- [ ] Show/hide weekends\n- [ ] Week starts on (Sunday/Monday)\n- [ ] Layout: property for end date\n- [ ] Show items without dates\n\n### 9. Components\n- [ ] CalendarView container\n- [ ] CalendarHeader (nav)\n- [ ] CalendarGrid\n- [ ] CalendarDay\n- [ ] CalendarItem\n- [ ] CalendarRangeItem\n- [ ] DatePropertyPicker\n\n## Calendar State\n```typescript\ninterface CalendarViewState {\n  dateProperty: string;\n  endDateProperty: string | null;\n  currentMonth: Date;\n  showWeekends: boolean;\n  weekStartsOn: 0 | 1; // Sunday or Monday\n}\n```\n\n## Acceptance Criteria\n- [ ] Calendar displays month correctly\n- [ ] Items appear on correct dates\n- [ ] Navigation works (prev/next/today)\n- [ ] Date ranges span multiple days\n- [ ] Drag to move items works\n- [ ] Click date creates new item\n- [ ] Weekend visibility toggle works\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:50:17.53457+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:50:17.53457+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-5lr","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:50:17.536759+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-5lr","depends_on_id":"notionv2-clone-kl9","type":"blocks","created_at":"2026-01-07T00:27:45.242085+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-5me","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-630\n- **Test type**:  Database Gallery View\n\n## Focus Areas\nfrontend:Gallery render, card preview, image display, card size\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Gallery View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.271633+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.271633+07:00","labels":[" Database Gallery View","test"],"dependencies":[{"issue_id":"notionv2-clone-5me","depends_on_id":"notionv2-clone-630","type":"blocks","created_at":"2026-01-07T00:27:45.323379+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-630","title":"Database Gallery View","description":"## Overview\nImplement the Gallery view for databases with visual card layout.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Gallery Layout\n- [ ] Card grid layout\n- [ ] Responsive columns\n- [ ] Consistent card sizes\n- [ ] Masonry layout option\n\n### 2. Card Display\n- [ ] Card image/cover (configurable)\n- [ ] Cover options:\n  - Page cover\n  - First image in content\n  - Specific files property\n  - None (icon only)\n- [ ] Image fit (cover vs contain)\n- [ ] Title display\n- [ ] Selected properties\n- [ ] Page icon\n\n### 3. Card Sizes\n- [ ] Small cards\n- [ ] Medium cards\n- [ ] Large cards\n- [ ] Custom aspect ratio\n\n### 4. Card Preview Options\n- [ ] Page content preview\n- [ ] Property preview\n- [ ] Content size (none, small, medium)\n\n### 5. Grouping\n- [ ] Group by property\n- [ ] Group headers\n- [ ] Collapsible groups\n- [ ] Horizontal group scrolling\n\n### 6. Card Actions\n- [ ] Click to open page\n- [ ] Hover overlay with actions\n- [ ] Right-click menu\n- [ ] Quick property edit\n\n### 7. New Card\n- [ ] New card button\n- [ ] Create with quick properties\n\n### 8. Components\n- [ ] GalleryView container\n- [ ] GalleryGrid\n- [ ] GalleryCard\n- [ ] GalleryCardCover\n- [ ] GalleryCardContent\n- [ ] GalleryCoverPicker\n\n## Gallery State\n```typescript\ninterface GalleryViewState {\n  cardSize: 'small' | 'medium' | 'large';\n  cardCover: 'page_cover' | 'page_content' | string | 'none';\n  imageSize: 'cover' | 'contain';\n  cardPreview: 'none' | 'small' | 'medium';\n  visibleProperties: string[];\n  groupBy: string | null;\n}\n```\n\n## Acceptance Criteria\n- [ ] Gallery displays cards in grid\n- [ ] Card covers show correctly\n- [ ] Different card sizes work\n- [ ] Grouping works\n- [ ] Responsive layout\n- [ ] Click opens page\n- [ ] Performance with many cards\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:51:05.662997+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:51:05.662997+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-630","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:51:05.665944+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-630","depends_on_id":"notionv2-clone-mqc","type":"blocks","created_at":"2026-01-07T00:27:45.390755+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-655","title":"Block Drag \u0026 Drop System","description":"## Overview\nImplement comprehensive drag and drop for blocks within the editor.\n\n## Tech Stack\n- **Drag \u0026 Drop**: @dnd-kit/core\n- **Editor**: Slate.js\n- **Animations**: Framer Motion\n\n## Features\n\n### 1. Block Drag Handle\n- [ ] Drag handle on hover (left of block)\n- [ ] Six-dot grip icon\n- [ ] Cursor change on hover\n\n### 2. Single Block Drag\n- [ ] Drag to reorder blocks\n- [ ] Visual drag preview\n- [ ] Drop indicator line\n- [ ] Smooth animations\n\n### 3. Multi-Block Selection \u0026 Drag\n- [ ] Shift+click for range select\n- [ ] Cmd/Ctrl+click for multi-select\n- [ ] Drag selected blocks together\n- [ ] Selection highlight\n\n### 4. Nested Block Drag\n- [ ] Drag into toggle/column\n- [ ] Drag out of nested container\n- [ ] Indent level visualization\n- [ ] Drop zone indicators for nesting\n\n### 5. Column Drop Zones\n- [ ] Drop between columns\n- [ ] Drop into specific column\n- [ ] Visual column highlighting\n\n### 6. Cross-Page Drag (Future)\n- [ ] Drag block to sidebar page\n- [ ] Creates block in target page\n\n### 7. Block Actions Menu\n- [ ] Right-click context menu\n- [ ] Delete block\n- [ ] Duplicate block\n- [ ] Turn into... (convert type)\n- [ ] Copy link to block\n- [ ] Move to page...\n- [ ] Comment on block\n- [ ] Color (for supported blocks)\n\n### 8. Keyboard Operations\n- [ ] Arrow up/down for block navigation\n- [ ] Enter to edit\n- [ ] Escape to deselect\n- [ ] Backspace to delete selected\n- [ ] Tab/Shift+Tab to indent\n\n### 9. Touch Support\n- [ ] Long press for drag\n- [ ] Touch-friendly drop zones\n- [ ] Mobile drag preview\n\n### 10. Performance\n- [ ] Virtualized long documents\n- [ ] Lazy render off-screen blocks\n- [ ] Optimistic position updates\n- [ ] Debounced save\n\n### 11. Components\n- [ ] DragHandle\n- [ ] BlockSelectionOverlay\n- [ ] DropIndicator\n- [ ] BlockContextMenu\n- [ ] DndContext wrapper\n\n## DnD Architecture\n```typescript\n// Block position update\ninterface BlockMove {\n  blockId: string;\n  targetParentId: string | null;\n  targetIndex: number;\n}\n\n// Use fractional indexing for positions\n// to avoid reindexing all blocks\n```\n\n## Acceptance Criteria\n- [ ] Single block drag works smoothly\n- [ ] Multi-block selection and drag works\n- [ ] Blocks can be nested via drag\n- [ ] Column drops work correctly\n- [ ] Context menu shows all options\n- [ ] Keyboard navigation works\n- [ ] Animations are smooth (60fps)\n- [ ] Touch drag works on mobile\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:47:02.848693+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:47:02.848693+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-655","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:47:02.851517+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-655","depends_on_id":"notionv2-clone-2vu","type":"blocks","created_at":"2026-01-07T00:27:24.36189+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-66o","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-g9x\n- **Test type**:  Database Relations \u0026 Rollups\n\n## Focus Areas\nfull-stack:One-way/two-way/self relations, rollup calculations\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Relations \u0026 Rollups","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.633123+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.633123+07:00","labels":[" Database Relations \u0026 Rollups","test"],"dependencies":[{"issue_id":"notionv2-clone-66o","depends_on_id":"notionv2-clone-g9x","type":"blocks","created_at":"2026-01-07T00:28:42.316804+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-6ed","title":"Home Dashboard","description":"## Overview\nImplement the home dashboard with recent pages, quick actions, and widgets.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Dashboard Layout\n- [ ] Grid-based layout\n- [ ] Responsive design\n- [ ] Customizable sections\n- [ ] Welcome header\n\n### 2. Recent Pages Section\n- [ ] Recently visited pages\n- [ ] Page icons and titles\n- [ ] Last visited time\n- [ ] Click to navigate\n- [ ] View all link\n\n### 3. Favorites Section\n- [ ] Favorited pages\n- [ ] Quick access\n- [ ] Add/remove from dashboard\n\n### 4. Quick Actions\n- [ ] New page button\n- [ ] New from template\n- [ ] Import button\n- [ ] Quick search\n\n### 5. Inbox Preview\n- [ ] Unread notifications count\n- [ ] Recent notifications\n- [ ] Mark as read\n- [ ] View all link\n\n### 6. Calendar Widget (Optional)\n- [ ] Upcoming events\n- [ ] Today's schedule\n- [ ] Quick add event\n\n### 7. Activity Feed\n- [ ] Recent workspace activity\n- [ ] Page updates\n- [ ] Team activity\n\n### 8. Widgets\n- [ ] Customizable widget layout\n- [ ] Add/remove widgets\n- [ ] Resize widgets (future)\n\n### 9. API Endpoints\n```\nGET /api/dashboard\nGET /api/pages/recent\nGET /api/pages/favorites\nGET /api/activity/recent\n```\n\n### 10. Components\n- [ ] DashboardLayout\n- [ ] RecentPages\n- [ ] FavoritePages\n- [ ] QuickActions\n- [ ] InboxPreview\n- [ ] ActivityFeed\n- [ ] DashboardWidget\n\n## Acceptance Criteria\n- [ ] Dashboard loads on home\n- [ ] Recent pages show correctly\n- [ ] Favorites display\n- [ ] Quick actions work\n- [ ] Responsive layout\n- [ ] Fast loading\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-fne (Notifications)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:07:15.673088+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:07:15.673088+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-6ed","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:07:15.675398+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-6ed","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:07:15.676654+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-6ed","depends_on_id":"notionv2-clone-fne","type":"blocks","created_at":"2026-01-07T00:07:15.678012+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-6ed","depends_on_id":"notionv2-clone-xjo","type":"blocks","created_at":"2026-01-07T00:29:46.038445+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-6lp","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-eau\n- **Test type**:  Media Blocks\n\n## Focus Areas\nfull-stack:Image upload/URL, video/audio embed, file attachments, PDF viewer\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Media Blocks","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.7451+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.7451+07:00","labels":[" Media Blocks","test"],"dependencies":[{"issue_id":"notionv2-clone-6lp","depends_on_id":"notionv2-clone-eau","type":"blocks","created_at":"2026-01-07T00:27:23.933563+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-6mv","title":"Version History System","description":"## Overview\nImplement page version history with restore capabilities.\n\n## Tech Stack\n- **Backend**: Hono, Drizzle ORM\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Version Tracking\n- [ ] Auto-save versions periodically\n- [ ] Save on significant changes\n- [ ] Version timestamps\n- [ ] Version author\n\n### 2. Version List\n- [ ] Show all versions\n- [ ] Version date/time\n- [ ] Version author avatar\n- [ ] Changes summary\n- [ ] Grouped by day\n\n### 3. Version Preview\n- [ ] View historical version\n- [ ] Read-only preview\n- [ ] Visual diff from current\n- [ ] Side-by-side comparison\n\n### 4. Restore Version\n- [ ] Restore to previous version\n- [ ] Creates new current version\n- [ ] Confirmation dialog\n- [ ] Restore notification\n\n### 5. Version Retention\n- [ ] Free: 7 days\n- [ ] Plus: 30 days\n- [ ] Business: 90 days\n- [ ] Enterprise: Unlimited\n- [ ] Clear old versions (cron)\n\n### 6. Database Item History\n- [ ] Property change history\n- [ ] Who changed what\n- [ ] When changed\n\n### 7. API Endpoints\n```\nGET    /api/pages/:id/history\nGET    /api/pages/:id/history/:versionId\nPOST   /api/pages/:id/history/:versionId/restore\nGET    /api/database-items/:id/history\n```\n\n### 8. Components\n- [ ] VersionHistoryPanel\n- [ ] VersionList\n- [ ] VersionItem\n- [ ] VersionPreview\n- [ ] VersionDiff\n- [ ] RestoreVersionDialog\n\n## Version Storage\n```typescript\ninterface PageVersion {\n  id: string;\n  pageId: string;\n  title: string;\n  content: Block[]; // Snapshot\n  createdById: string;\n  createdAt: Date;\n}\n```\n\n## Acceptance Criteria\n- [ ] Versions save automatically\n- [ ] Version list shows correctly\n- [ ] Version preview works\n- [ ] Restore creates new version\n- [ ] Retention by plan works\n- [ ] Old versions cleaned up\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-wex (Rich Text Editor)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:59:11.440578+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:59:11.440578+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-6mv","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:59:11.443465+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-6mv","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:59:11.444876+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-6mv","depends_on_id":"notionv2-clone-frq","type":"blocks","created_at":"2026-01-07T00:29:03.649048+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-7jg","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-1ce\n- **Test type**:  Real-Time Collaboration\n\n## Focus Areas\nfull-stack:WebSocket, live cursors, simultaneous editing, conflict resolution\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Real-Time Collaboration","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.689918+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.689918+07:00","labels":[" Real-Time Collaboration","test"],"dependencies":[{"issue_id":"notionv2-clone-7jg","depends_on_id":"notionv2-clone-1ce","type":"blocks","created_at":"2026-01-07T00:28:42.499876+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-7lz","title":"Sidebar \u0026 Navigation System","description":"## Overview\nImplement the main sidebar navigation with page tree, workspace sections, and all navigation features.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Router, Zustand\n- **Drag \u0026 Drop**: @dnd-kit/core\n- **Animations**: Framer Motion\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Sidebar Layout\n- [ ] Collapsible/expandable sidebar\n- [ ] Resize handle (drag to resize width)\n- [ ] Persist sidebar width preference\n- [ ] Mobile-responsive (drawer on mobile)\n- [ ] Keyboard shortcut to toggle (Cmd/Ctrl + \\)\n\n### 2. Sidebar Sections\n- [ ] **Search** - Quick find button (Cmd+K)\n- [ ] **Home** - Dashboard link\n- [ ] **Inbox** - Notifications/updates\n- [ ] **Favorites** - Starred pages\n- [ ] **Teamspaces** - Collapsible team sections\n- [ ] **Private** - Private pages section\n- [ ] **Shared** - Shared with me section\n- [ ] **Trash** - Deleted pages access\n\n### 3. Page Tree\n- [ ] Infinite nested pages display\n- [ ] Lazy loading of children (expand on click)\n- [ ] Collapse/expand toggles\n- [ ] Page icons (emoji or image)\n- [ ] Hover actions menu (add page, more options)\n- [ ] Inline rename on double-click\n- [ ] Current page highlight\n- [ ] Smooth expand/collapse animations\n\n### 4. Drag \u0026 Drop (dnd-kit)\n- [ ] Drag pages to reorder\n- [ ] Drag pages to nest (drop on page)\n- [ ] Drag pages between sections\n- [ ] Visual drop indicators\n- [ ] Drop zones highlighting\n- [ ] Drag preview/ghost\n- [ ] Keyboard-accessible drag\n\n### 5. Hover Actions\n- [ ] Add nested page (+)\n- [ ] More options menu (...)\n  - [ ] Add to favorites\n  - [ ] Duplicate\n  - [ ] Copy link\n  - [ ] Rename\n  - [ ] Move to\n  - [ ] Delete\n\n### 6. Quick Actions\n- [ ] New page button\n- [ ] Search button (opens command palette)\n- [ ] Settings access\n- [ ] Workspace switcher integration\n\n### 7. Breadcrumb Navigation\n- [ ] Show page hierarchy path\n- [ ] Clickable breadcrumb items\n- [ ] Overflow handling (collapse middle items)\n- [ ] Page icon in breadcrumb\n\n### 8. State Management (Zustand)\n```typescript\ninterface SidebarStore {\n  isOpen: boolean;\n  width: number;\n  expandedPages: Set\u003cstring\u003e;\n  toggleSidebar: () =\u003e void;\n  setWidth: (width: number) =\u003e void;\n  togglePageExpanded: (pageId: string) =\u003e void;\n  expandToPage: (pageId: string) =\u003e void;\n}\n```\n\n### 9. API Requirements\n```\nGET /api/pages/tree?workspaceId=xxx\nGET /api/pages/:id/children\nPUT /api/pages/:id/position\nPUT /api/pages/:id/parent\nGET /api/pages/favorites\nGET /api/pages/recent\n```\n\n### 10. Performance Optimizations\n- [ ] Virtual list for long page lists\n- [ ] Debounced position updates\n- [ ] Optimistic updates for drag/drop\n- [ ] Skeleton loading states\n- [ ] Cache page tree with TanStack Query\n\n### 11. Components\n- [ ] Sidebar container\n- [ ] SidebarSection (collapsible)\n- [ ] PageTreeItem (recursive)\n- [ ] PageTreeItemActions\n- [ ] SidebarResizeHandle\n- [ ] Breadcrumb component\n- [ ] SidebarSearch\n- [ ] QuickCreateButton\n\n## Acceptance Criteria\n- [ ] Sidebar opens/closes smoothly\n- [ ] Page tree displays correctly with nesting\n- [ ] Drag and drop works for reordering\n- [ ] Drag and drop works for nesting\n- [ ] Hover actions work correctly\n- [ ] Breadcrumbs show correct path\n- [ ] Quick search opens command palette\n- [ ] Mobile drawer works\n- [ ] Performance is smooth with 100+ pages\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-2ys (Workspace Management)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:43:43.732182+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:43:43.732182+07:00","labels":["feature","frontend","priority-high"],"dependencies":[{"issue_id":"notionv2-clone-7lz","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-06T23:43:43.735478+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-7lz","depends_on_id":"notionv2-clone-2ys","type":"blocks","created_at":"2026-01-06T23:43:43.73682+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-7lz","depends_on_id":"notionv2-clone-m4n","type":"blocks","created_at":"2026-01-07T00:27:02.350989+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-7lz","depends_on_id":"notionv2-clone-dq7","type":"blocks","created_at":"2026-01-07T00:27:02.41348+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-7ug","title":"Trash \u0026 Recovery System","description":"## Overview\nImplement trash functionality for deleted pages with recovery options.\n\n## Tech Stack\n- **Backend**: Hono, Drizzle ORM\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Soft Delete\n- [ ] Move to trash (not permanent)\n- [ ] Keep page structure intact\n- [ ] Track deletion date\n- [ ] Track who deleted\n\n### 2. Trash View\n- [ ] Sidebar trash section\n- [ ] List deleted pages\n- [ ] Search in trash\n- [ ] Sort by date deleted\n- [ ] Filter by type\n\n### 3. Page Info in Trash\n- [ ] Page title\n- [ ] Page icon\n- [ ] Deleted date\n- [ ] Deleted by\n- [ ] Original location\n\n### 4. Restore Page\n- [ ] Restore to original location\n- [ ] Restore to different location\n- [ ] Restore with children\n- [ ] Restore notification\n\n### 5. Permanent Delete\n- [ ] Delete forever option\n- [ ] Confirmation dialog\n- [ ] Cannot be undone\n- [ ] Clean up files\n\n### 6. Auto-Cleanup\n- [ ] Trash retention period (30 days)\n- [ ] Auto-delete after period\n- [ ] Warning before auto-delete\n- [ ] Admin override\n\n### 7. Bulk Actions\n- [ ] Select multiple items\n- [ ] Restore all selected\n- [ ] Delete all selected\n- [ ] Empty trash\n\n### 8. API Endpoints\n```\nGET    /api/trash\nPOST   /api/pages/:id/trash\nPOST   /api/pages/:id/restore\nDELETE /api/pages/:id/permanent\nPOST   /api/trash/empty\n```\n\n### 9. Components\n- [ ] TrashView\n- [ ] TrashItem\n- [ ] RestoreDialog\n- [ ] PermanentDeleteDialog\n- [ ] EmptyTrashDialog\n\n## Acceptance Criteria\n- [ ] Delete moves to trash\n- [ ] Trash view shows items\n- [ ] Restore works correctly\n- [ ] Permanent delete works\n- [ ] Auto-cleanup runs\n- [ ] Bulk actions work\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-7lz (Sidebar)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:00:01.074353+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:00:01.074353+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-7ug","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:00:01.07779+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-7ug","depends_on_id":"notionv2-clone-7lz","type":"blocks","created_at":"2026-01-07T00:00:01.0795+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-7ug","depends_on_id":"notionv2-clone-cyz","type":"blocks","created_at":"2026-01-07T00:29:03.882739+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-84y","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-mub\n- **Test type**:  Keyboard Shortcuts\n\n## Focus Areas\nfrontend:Navigation/formatting shortcuts, command palette, custom shortcuts\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Keyboard Shortcuts","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.452926+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.452926+07:00","labels":[" Keyboard Shortcuts","test"],"dependencies":[{"issue_id":"notionv2-clone-84y","depends_on_id":"notionv2-clone-mub","type":"blocks","created_at":"2026-01-07T00:29:39.137553+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-88l","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-pv3\n- **Test type**:  REST API \u0026 Webhooks\n\n## Focus Areas\nbackend:All endpoints, API auth, rate limiting, webhook delivery, docs\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: REST API \u0026 Webhooks","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.394905+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.394905+07:00","labels":[" REST API \u0026 Webhooks","test"],"dependencies":[{"issue_id":"notionv2-clone-88l","depends_on_id":"notionv2-clone-pv3","type":"blocks","created_at":"2026-01-07T00:29:06.068095+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-8h6","title":"Advanced Blocks (Columns, TOC, Equations, Synced)","description":"## Overview\nImplement advanced block types including columns, table of contents, equations, and synced blocks.\n\n## Tech Stack\n- **Editor**: Slate.js\n- **Math**: KaTeX\n- **UI**: Shadcn UI, dnd-kit\n\n## Features\n\n### 1. Column Layout\n- [ ] Column list container\n- [ ] 2-5 column support\n- [ ] Drag to resize columns\n- [ ] Add/remove columns\n- [ ] Drag blocks between columns\n- [ ] Responsive collapse on mobile\n\n### 2. Table of Contents Block\n- [ ] Auto-generate from headings\n- [ ] Clickable links to sections\n- [ ] Live update on heading changes\n- [ ] Indentation by heading level\n- [ ] Smooth scroll to section\n\n### 3. Breadcrumb Block\n- [ ] Show page path\n- [ ] Clickable ancestors\n- [ ] Auto-update on move\n\n### 4. Math Equation Block\n- [ ] Block-level LaTeX input\n- [ ] KaTeX rendering\n- [ ] Equation numbering option\n- [ ] Common templates\n- [ ] Full-width display\n\n### 5. Synced Block (Original)\n- [ ] Create synced block\n- [ ] Copy synced block reference\n- [ ] Edit updates all instances\n- [ ] Visual indicator (synced icon)\n- [ ] Unlink/convert to regular block\n\n### 6. Synced Block (Reference)\n- [ ] Paste synced block creates reference\n- [ ] Shows synced content\n- [ ] Edit redirects to original or syncs\n- [ ] Link to original page\n- [ ] Delete only removes reference\n\n### 7. Template Button Block\n- [ ] Button with label\n- [ ] Define template content\n- [ ] Click creates new blocks from template\n- [ ] Edit template option\n\n### 8. Simple Table Block (non-database)\n- [ ] Create simple table\n- [ ] Add/remove rows\n- [ ] Add/remove columns\n- [ ] Cell content editing\n- [ ] Header row option\n- [ ] Resize columns\n- [ ] Tab navigation\n\n### 9. Toggle Heading\n- [ ] H1, H2, H3 as toggles\n- [ ] Collapse/expand content\n- [ ] Persist toggle state\n\n### 10. Block Components\n- [ ] ColumnList\n- [ ] Column\n- [ ] TableOfContents\n- [ ] Breadcrumb\n- [ ] EquationBlock\n- [ ] SyncedBlock\n- [ ] SyncedBlockReference\n- [ ] TemplateButton\n- [ ] SimpleTable\n- [ ] SimpleTableRow\n- [ ] SimpleTableCell\n\n### 11. API Endpoints\n```\nPOST /api/blocks/synced\nGET  /api/blocks/synced/:id/references\nPOST /api/blocks/synced/:id/unlink\n```\n\n## Acceptance Criteria\n- [ ] Columns layout works responsively\n- [ ] Column resizing works\n- [ ] TOC generates from headings\n- [ ] TOC links scroll to sections\n- [ ] Equations render correctly\n- [ ] Synced blocks sync across pages\n- [ ] Template buttons create content\n- [ ] Simple tables work (not database)\n- [ ] Toggle headings collapse content\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:46:06.717072+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:46:06.717072+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-8h6","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:46:06.72694+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-8h6","depends_on_id":"notionv2-clone-6lp","type":"blocks","created_at":"2026-01-07T00:27:24.119237+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-8y5","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-fxs\n- **Test type**:  Authentication (BetterAuth)\n\n## Focus Areas\nfull-stack:Registration, login, OAuth, password reset, sessions, protected routes\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Authentication (BetterAuth)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.340179+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.340179+07:00","labels":[" Authentication (BetterAuth)","test"],"dependencies":[{"issue_id":"notionv2-clone-8y5","depends_on_id":"notionv2-clone-fxs","type":"blocks","created_at":"2026-01-07T00:27:01.927612+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-9ew","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-7lz\n- **Test type**:  Sidebar \u0026 Navigation\n\n## Focus Areas\nfrontend:Expand/collapse, page tree, drag-drop, quick search, favorites\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Sidebar \u0026 Navigation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.511084+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.511084+07:00","labels":[" Sidebar \u0026 Navigation","test"],"dependencies":[{"issue_id":"notionv2-clone-9ew","depends_on_id":"notionv2-clone-7lz","type":"blocks","created_at":"2026-01-07T00:27:02.291716+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-9f8","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-hdt\n- **Test type**:  Inline Elements \u0026 Mentions\n\n## Focus Areas\nfrontend:Bold/italic, text colors, inline code, links, @mentions, emoji\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Inline Elements \u0026 Mentions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.689083+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.689083+07:00","labels":[" Inline Elements \u0026 Mentions","test"],"dependencies":[{"issue_id":"notionv2-clone-9f8","depends_on_id":"notionv2-clone-hdt","type":"blocks","created_at":"2026-01-07T00:27:23.791474+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-a5p","title":"Page CRUD \u0026 Core Features","description":"## Overview\nImplement page creation, reading, updating, deletion, and core page features.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Query, Zustand\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Page CRUD Operations\n- [ ] Create new page\n- [ ] Create nested/child page\n- [ ] Read page with content\n- [ ] Update page (title, content)\n- [ ] Soft delete (move to trash)\n- [ ] Restore from trash\n- [ ] Permanent delete\n- [ ] Duplicate page (with nested content)\n\n### 2. Page Properties\n- [ ] Title (inline editable)\n- [ ] Icon (emoji picker or image upload)\n- [ ] Cover image (upload, Unsplash, gradient)\n- [ ] Cover position (vertical adjustment)\n- [ ] Parent page reference\n- [ ] Created/updated timestamps\n- [ ] Created by/edited by users\n\n### 3. Page Settings\n- [ ] Full width toggle\n- [ ] Small text toggle\n- [ ] Font style (Default, Serif, Mono)\n- [ ] Lock page (prevent editing)\n\n### 4. Page Icon\n- [ ] Emoji picker integration\n- [ ] Custom image upload for icon\n- [ ] Random emoji suggestion\n- [ ] Remove icon option\n\n### 5. Page Cover\n- [ ] Upload custom image\n- [ ] Unsplash integration\n- [ ] Gradient backgrounds\n- [ ] Solid color backgrounds\n- [ ] Reposition cover (drag)\n- [ ] Remove cover option\n\n### 6. Page Header Component\n- [ ] Icon display (clickable to change)\n- [ ] Cover image display\n- [ ] Title input (H1 style, placeholder)\n- [ ] Add icon button (when no icon)\n- [ ] Add cover button (when no cover)\n- [ ] Add comment button\n\n### 7. Page Actions Menu\n- [ ] Add to favorites\n- [ ] Lock/unlock page\n- [ ] Copy link\n- [ ] Duplicate\n- [ ] Move to...\n- [ ] Export (Markdown, PDF, HTML)\n- [ ] Page history\n- [ ] Delete\n\n### 8. API Endpoints\n```\nGET    /api/pages/:id\nPOST   /api/pages\nPUT    /api/pages/:id\nDELETE /api/pages/:id\nPOST   /api/pages/:id/duplicate\nPUT    /api/pages/:id/move\nPOST   /api/pages/:id/restore\nDELETE /api/pages/:id/permanent\n\nPUT    /api/pages/:id/icon\nDELETE /api/pages/:id/icon\nPUT    /api/pages/:id/cover\nDELETE /api/pages/:id/cover\n\nGET    /api/pages/:id/history\nPOST   /api/pages/:id/restore-version/:versionId\n```\n\n### 9. Frontend Components\n- [ ] PageView (main page display)\n- [ ] PageHeader (icon, cover, title)\n- [ ] PageTitle (editable input)\n- [ ] PageIconPicker\n- [ ] PageCoverPicker\n- [ ] PageActionsMenu\n- [ ] PageSettingsPopover\n- [ ] EmojiPicker component\n- [ ] UnsplashPicker component\n\n### 10. State Management\n```typescript\ninterface PageStore {\n  currentPage: Page | null;\n  isEditing: boolean;\n  setCurrentPage: (page: Page) =\u003e void;\n  updatePage: (updates: Partial\u003cPage\u003e) =\u003e void;\n}\n```\n\n### 11. Real-time Considerations\n- [ ] Optimistic updates for title\n- [ ] Debounced save for content\n- [ ] Conflict detection placeholder\n\n## Acceptance Criteria\n- [ ] Pages can be created with default title\n- [ ] Pages can be nested infinitely\n- [ ] Title editing works inline\n- [ ] Icon picker works (emoji \u0026 image)\n- [ ] Cover picker works (upload, Unsplash)\n- [ ] Page settings persist\n- [ ] Trash/restore works correctly\n- [ ] Duplicate creates full copy\n- [ ] Page history is tracked\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-bny (Backend Setup)\n- notionv2-clone-nwf (Database Schema)\n- notionv2-clone-xru (File Storage)\n- notionv2-clone-7lz (Sidebar)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:44:15.247089+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:44:15.247089+07:00","labels":["backend","feature","frontend","priority-high"],"dependencies":[{"issue_id":"notionv2-clone-a5p","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-06T23:44:15.250544+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-a5p","depends_on_id":"notionv2-clone-bny","type":"blocks","created_at":"2026-01-06T23:44:15.251928+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-a5p","depends_on_id":"notionv2-clone-nwf","type":"blocks","created_at":"2026-01-06T23:44:15.252937+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-a5p","depends_on_id":"notionv2-clone-xru","type":"blocks","created_at":"2026-01-06T23:44:15.253931+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-a5p","depends_on_id":"notionv2-clone-7lz","type":"blocks","created_at":"2026-01-06T23:44:15.254925+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-a5p","depends_on_id":"notionv2-clone-9ew","type":"blocks","created_at":"2026-01-07T00:27:02.535333+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-aeq","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-8h6\n- **Test type**:  Advanced Blocks\n\n## Focus Areas\nfrontend:Columns, TOC, math equations, code blocks, synced blocks, template buttons\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Advanced Blocks","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.802883+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.802883+07:00","labels":[" Advanced Blocks","test"],"dependencies":[{"issue_id":"notionv2-clone-aeq","depends_on_id":"notionv2-clone-8h6","type":"blocks","created_at":"2026-01-07T00:27:24.059074+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-bh5","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-ig6\n- **Test type**:  Settings UI\n\n## Focus Areas\nfrontend:Dark mode, font prefs, notification settings, language settings\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Settings UI","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.510944+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.510944+07:00","labels":[" Settings UI","test"],"dependencies":[{"issue_id":"notionv2-clone-bh5","depends_on_id":"notionv2-clone-ig6","type":"blocks","created_at":"2026-01-07T00:29:39.971789+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-bny","title":"Project Setup - Backend (Hono)","description":"## Overview\nInitialize and configure the backend API using Hono framework with all required dependencies.\n\n## Tech Stack\n- **Framework**: Hono\n- **Runtime**: Node.js / Bun\n- **Database**: PostgreSQL\n- **ORM**: Drizzle ORM\n- **Authentication**: BetterAuth\n- **Validation**: Zod\n- **File Storage**: Local / AWS S3\n\n## Tasks\n\n### 1. Project Initialization\n- [ ] Create Hono project with TypeScript\n- [ ] Configure tsconfig.json with strict mode\n- [ ] Set up path aliases\n- [ ] Configure build system (tsup or esbuild)\n\n### 2. Hono Configuration\n- [ ] Set up Hono app instance\n- [ ] Configure middleware stack:\n  - [ ] CORS middleware\n  - [ ] Logger middleware\n  - [ ] Compress middleware\n  - [ ] Secure headers middleware\n  - [ ] Request ID middleware\n- [ ] Set up error handling middleware\n- [ ] Configure request body parsing\n\n### 3. PostgreSQL \u0026 Drizzle ORM Setup\n- [ ] Install Drizzle ORM and drizzle-kit\n- [ ] Configure database connection\n```typescript\n// db/index.ts\nimport { drizzle } from 'drizzle-orm/node-postgres';\nimport { Pool } from 'pg';\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nexport const db = drizzle(pool);\n```\n- [ ] Set up drizzle.config.ts\n- [ ] Create migration scripts\n- [ ] Set up database seeding structure\n\n### 4. Schema Design Base\n- [ ] Create schema directory structure:\n```\n/db\n  /schema\n    /users.ts\n    /workspaces.ts\n    /pages.ts\n    /blocks.ts\n    /databases.ts\n    /comments.ts\n    /permissions.ts\n    /files.ts\n    index.ts\n  /migrations\n  /seeds\n  index.ts\n```\n- [ ] Define base column helpers (timestamps, uuid)\n- [ ] Set up schema exports\n\n### 5. Zod Validation Setup\n- [ ] Create validation schemas structure\n- [ ] Set up Zod-to-OpenAPI integration\n- [ ] Create reusable validation helpers\n```\n/validators\n  /auth.ts\n  /workspace.ts\n  /page.ts\n  /block.ts\n  /database.ts\n  index.ts\n```\n\n### 6. API Route Structure\n- [ ] Create modular route structure:\n```\n/routes\n  /auth\n    index.ts\n  /workspaces\n    index.ts\n  /pages\n    index.ts\n  /blocks\n    index.ts\n  /databases\n    index.ts\n  /files\n    index.ts\n  /users\n    index.ts\n  index.ts\n```\n- [ ] Set up route grouping\n- [ ] Configure route prefixes\n\n### 7. File Storage Setup\n- [ ] Create storage abstraction layer\n```typescript\ninterface StorageAdapter {\n  upload(file: File, path: string): Promise\u003cstring\u003e;\n  delete(path: string): Promise\u003cvoid\u003e;\n  getSignedUrl(path: string): Promise\u003cstring\u003e;\n}\n```\n- [ ] Implement local file storage adapter\n- [ ] Implement S3 storage adapter\n- [ ] Configure multipart upload handling\n\n### 8. Environment Configuration\n- [ ] Create .env.example\n```\nDATABASE_URL=postgresql://user:password@localhost:5432/notion_clone\nJWT_SECRET=your-secret-key\nJWT_EXPIRES_IN=7d\n\n# OAuth\nGOOGLE_CLIENT_ID=\nGOOGLE_CLIENT_SECRET=\nGITHUB_CLIENT_ID=\nGITHUB_CLIENT_SECRET=\n\n# Storage\nSTORAGE_TYPE=local|s3\nS3_BUCKET=\nS3_REGION=\nS3_ACCESS_KEY=\nS3_SECRET_KEY=\n\n# App\nAPP_URL=http://localhost:3000\nAPI_URL=http://localhost:8000\n```\n- [ ] Create environment validation with Zod\n\n### 9. Utility Functions\n- [ ] Create common utilities:\n  - [ ] UUID generation\n  - [ ] Slug generation\n  - [ ] Date formatting\n  - [ ] Pagination helpers\n  - [ ] Response formatters\n\n### 10. Error Handling\n- [ ] Create custom error classes\n```typescript\nclass AppError extends Error {\n  constructor(\n    public statusCode: number,\n    public code: string,\n    message: string\n  ) {\n    super(message);\n  }\n}\n\nclass NotFoundError extends AppError {}\nclass ValidationError extends AppError {}\nclass UnauthorizedError extends AppError {}\nclass ForbiddenError extends AppError {}\n```\n- [ ] Create error handler middleware\n- [ ] Set up error logging\n\n### 11. Development Tools\n- [ ] Configure ESLint\n- [ ] Configure Prettier\n- [ ] Set up nodemon/tsx for development\n- [ ] Create development scripts\n\n### 12. Docker Setup\n- [ ] Create Dockerfile\n- [ ] Create docker-compose.yml for local development\n```yaml\nservices:\n  db:\n    image: postgres:16\n    environment:\n      POSTGRES_DB: notion_clone\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n    ports:\n      - '5432:5432'\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  api:\n    build: .\n    ports:\n      - '8000:8000'\n    environment:\n      DATABASE_URL: postgresql://postgres:postgres@db:5432/notion_clone\n    depends_on:\n      - db\n```\n\n## File Structure Deliverables\n```\nbackend/\n├── src/\n│   ├── db/\n│   │   ├── schema/\n│   │   ├── migrations/\n│   │   ├── seeds/\n│   │   └── index.ts\n│   ├── routes/\n│   │   └── index.ts\n│   ├── middleware/\n│   │   ├── auth.ts\n│   │   ├── error.ts\n│   │   └── index.ts\n│   ├── validators/\n│   │   └── index.ts\n│   ├── services/\n│   │   └── index.ts\n│   ├── utils/\n│   │   └── index.ts\n│   ├── storage/\n│   │   ├── adapters/\n│   │   └── index.ts\n│   ├── types/\n│   │   └── index.ts\n│   └── index.ts\n├── .env.example\n├── drizzle.config.ts\n├── tsconfig.json\n├── Dockerfile\n├── docker-compose.yml\n└── package.json\n```\n\n## Acceptance Criteria\n- [ ] Hono server starts successfully\n- [ ] Database connection works\n- [ ] Drizzle migrations run\n- [ ] All middleware configured\n- [ ] Docker containers run\n- [ ] API responds to health check\n- [ ] ESLint and Prettier configured\n\n## Dependencies\nNone (foundational)\n\n## Estimated Effort\n2-3 sessions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T23:39:27.342838+07:00","created_by":"nayakayp","updated_at":"2026-01-07T01:13:49.007997+07:00","closed_at":"2026-01-07T01:13:49.007997+07:00","close_reason":"Backend Hono setup complete - implemented in monorepo structure at backend/","labels":["backend","feature","infrastructure","priority-critical"]}
{"id":"notionv2-clone-bw2","title":"Comments \u0026 Discussions System","description":"## Overview\nImplement page-level, block-level, and inline comments with threads and reactions.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Backend**: Hono, Drizzle ORM\n- **Real-time**: WebSocket\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Page-Level Comments\n- [ ] Comments section on page\n- [ ] Add new comment\n- [ ] Reply to comment (threads)\n- [ ] Edit own comment\n- [ ] Delete own comment\n- [ ] Resolve thread\n\n### 2. Block-Level Comments\n- [ ] Comment icon on block hover\n- [ ] Block highlight when commented\n- [ ] View comments sidebar/popover\n- [ ] Comment count indicator\n\n### 3. Inline Comments\n- [ ] Select text to comment\n- [ ] Highlight commented text\n- [ ] Show comment on highlight click\n- [ ] Multiple comments on same text\n\n### 4. Comment Content\n- [ ] Rich text in comments\n- [ ] @mentions in comments\n- [ ] Page links in comments\n- [ ] File attachments\n- [ ] Emoji picker\n\n### 5. Comment Threads\n- [ ] Threaded replies\n- [ ] Collapse/expand thread\n- [ ] Reply count\n- [ ] Latest reply preview\n\n### 6. Comment Reactions\n- [ ] Emoji reactions\n- [ ] Reaction counts\n- [ ] Users who reacted\n- [ ] Add/remove reaction\n\n### 7. Comment Resolution\n- [ ] Mark thread as resolved\n- [ ] Show resolved status\n- [ ] Filter resolved/unresolved\n- [ ] Reopen resolved thread\n\n### 8. Notifications\n- [ ] Notify on new comment\n- [ ] Notify on mention\n- [ ] Notify on reply\n- [ ] Email notifications (optional)\n\n### 9. Comment Sidebar\n- [ ] List all page comments\n- [ ] Jump to comment location\n- [ ] Filter by status\n- [ ] Filter by author\n- [ ] Search comments\n\n### 10. API Endpoints\n```\nGET    /api/pages/:id/comments\nPOST   /api/pages/:id/comments\nGET    /api/comments/:id\nPUT    /api/comments/:id\nDELETE /api/comments/:id\nPOST   /api/comments/:id/reply\nPUT    /api/comments/:id/resolve\nPUT    /api/comments/:id/reopen\nPOST   /api/comments/:id/reactions\nDELETE /api/comments/:id/reactions/:emoji\n```\n\n### 11. Components\n- [ ] CommentsPanel\n- [ ] CommentThread\n- [ ] Comment\n- [ ] CommentInput\n- [ ] CommentReactions\n- [ ] InlineCommentPopover\n- [ ] BlockCommentIndicator\n- [ ] CommentHighlight\n\n## Comment State\n```typescript\ninterface Comment {\n  id: string;\n  pageId: string;\n  blockId?: string;\n  textRange?: { start: number; end: number };\n  parentId?: string;\n  content: RichText;\n  createdBy: User;\n  createdAt: Date;\n  updatedAt: Date;\n  resolvedAt?: Date;\n  resolvedBy?: User;\n  reactions: Reaction[];\n}\n```\n\n## Acceptance Criteria\n- [ ] Page comments work\n- [ ] Block comments work\n- [ ] Inline text comments work\n- [ ] Threaded replies work\n- [ ] Emoji reactions work\n- [ ] Comment resolution works\n- [ ] Notifications trigger correctly\n- [ ] Real-time updates for new comments\n- [ ] Comment search/filter works\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-wex (Rich Text Editor)\n- notionv2-clone-1ce (Real-Time System)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:56:34.660274+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:56:34.660274+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-bw2","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:56:34.66302+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-bw2","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:56:34.664465+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-bw2","depends_on_id":"notionv2-clone-1ce","type":"blocks","created_at":"2026-01-06T23:56:34.665665+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-bw2","depends_on_id":"notionv2-clone-7jg","type":"blocks","created_at":"2026-01-07T00:28:42.801683+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-ccd","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-lnx\n- **Test type**:  Database Formula System\n\n## Focus Areas\nfull-stack:Math/text/date/logical functions, formula editor\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Formula System","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.576927+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.576927+07:00","labels":[" Database Formula System","test"],"dependencies":[{"issue_id":"notionv2-clone-ccd","depends_on_id":"notionv2-clone-lnx","type":"blocks","created_at":"2026-01-07T00:28:42.146413+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-cyz","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-6mv\n- **Test type**:  Version History\n\n## Focus Areas\nfull-stack:Version creation/listing/restore/comparison\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Version History","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.986393+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.986393+07:00","labels":[" Version History","test"],"dependencies":[{"issue_id":"notionv2-clone-cyz","depends_on_id":"notionv2-clone-6mv","type":"blocks","created_at":"2026-01-07T00:29:03.587673+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-d7k","title":"Project Setup - Frontend (TanStack Start)","description":"## Overview\nInitialize and configure the frontend application using TanStack Start with all required dependencies.\n\n## Tech Stack\n- **Framework**: TanStack Start\n- **Router**: TanStack Router\n- **Data Fetching**: TanStack Query\n- **Forms**: TanStack Form\n- **Tables**: TanStack Table\n- **Virtual Scrolling**: TanStack Virtual\n- **UI Components**: Shadcn UI\n- **Styling**: Tailwind CSS\n- **State Management**: Zustand\n- **Drag \u0026 Drop**: @dnd-kit/core\n- **Animations**: Framer Motion\n- **Rich Text**: Slate.js\n\n## Tasks\n\n### 1. Project Initialization\n- [ ] Create TanStack Start project with TypeScript\n- [ ] Configure tsconfig.json with strict mode\n- [ ] Set up path aliases (@/components, @/lib, @/hooks, etc.)\n- [ ] Configure Vite for development and production builds\n\n### 2. TanStack Libraries Setup\n- [ ] Install and configure TanStack Router\n  - [ ] Create router configuration\n  - [ ] Set up route tree generation\n  - [ ] Configure route types\n- [ ] Install and configure TanStack Query\n  - [ ] Create QueryClient with default options\n  - [ ] Set up QueryClientProvider\n  - [ ] Configure retry and stale time defaults\n- [ ] Install TanStack Form\n- [ ] Install TanStack Table\n- [ ] Install TanStack Virtual\n\n### 3. Shadcn UI Setup\n- [ ] Initialize Shadcn UI with CLI\n- [ ] Configure components.json\n- [ ] Install base components:\n  - [ ] Button, Input, Label\n  - [ ] Card, Dialog, Sheet\n  - [ ] Dropdown Menu, Context Menu\n  - [ ] Popover, Tooltip\n  - [ ] Select, Checkbox, Switch\n  - [ ] Avatar, Badge\n  - [ ] Separator, Skeleton\n  - [ ] Toast/Sonner\n  - [ ] Command (for command palette)\n  - [ ] Calendar, Date Picker\n\n### 4. Tailwind CSS Configuration\n- [ ] Configure tailwind.config.ts\n- [ ] Set up custom color palette (Notion-like colors)\n- [ ] Configure typography plugin\n- [ ] Set up dark mode (class-based)\n- [ ] Add custom animations\n- [ ] Configure container queries\n\n### 5. Zustand Store Setup\n- [ ] Create store structure:\n```\n/stores\n  /authStore.ts      # Auth state\n  /workspaceStore.ts # Current workspace\n  /sidebarStore.ts   # Sidebar state\n  /editorStore.ts    # Editor state\n  /uiStore.ts        # UI preferences\n```\n- [ ] Configure persist middleware for local storage\n- [ ] Set up devtools integration\n\n### 6. Additional Libraries\n- [ ] Install and configure @dnd-kit/core\n  - [ ] DndContext provider setup\n  - [ ] Sensors configuration\n- [ ] Install and configure framer-motion\n  - [ ] AnimatePresence setup\n  - [ ] Motion config\n- [ ] Install Slate.js and dependencies\n  - [ ] slate, slate-react, slate-history\n  - [ ] Custom element types\n\n### 7. Project Structure\n```\n/src\n  /components\n    /ui          # Shadcn components\n    /layout      # Layout components\n    /editor      # Slate editor components\n    /blocks      # Block components\n    /database    # Database view components\n  /hooks         # Custom hooks\n  /lib           # Utilities\n  /stores        # Zustand stores\n  /routes        # TanStack Router routes\n  /api           # API client functions\n  /types         # TypeScript types\n  /styles        # Global styles\n```\n\n### 8. Development Tools\n- [ ] Configure ESLint with TypeScript rules\n- [ ] Configure Prettier\n- [ ] Set up Husky pre-commit hooks\n- [ ] Configure lint-staged\n\n### 9. Environment Configuration\n- [ ] Create .env.example\n- [ ] Set up environment variables:\n  - [ ] VITE_API_URL\n  - [ ] VITE_WS_URL (for real-time)\n  - [ ] VITE_UPLOAD_URL\n\n### 10. API Client Setup\n- [ ] Create fetch wrapper with interceptors\n- [ ] Set up authentication header injection\n- [ ] Configure error handling\n- [ ] Create typed API functions structure\n\n## File Structure Deliverables\n```\nfrontend/\n├── src/\n│   ├── components/\n│   │   └── ui/           # Shadcn components\n│   ├── hooks/\n│   │   └── index.ts\n│   ├── lib/\n│   │   ├── utils.ts\n│   │   └── api.ts\n│   ├── stores/\n│   │   └── index.ts\n│   ├── routes/\n│   │   ├── __root.tsx\n│   │   └── index.tsx\n│   ├── types/\n│   │   └── index.ts\n│   ├── styles/\n│   │   └── globals.css\n│   └── main.tsx\n├── public/\n├── .env.example\n├── tailwind.config.ts\n├── tsconfig.json\n├── vite.config.ts\n├── components.json\n└── package.json\n```\n\n## Acceptance Criteria\n- [ ] Project builds without errors\n- [ ] All TanStack libraries configured and working\n- [ ] Shadcn UI components available\n- [ ] Tailwind CSS with dark mode working\n- [ ] Zustand stores initialized\n- [ ] ESLint and Prettier configured\n- [ ] Development server runs successfully\n- [ ] Production build succeeds\n\n## Dependencies\nNone (foundational)\n\n## Estimated Effort\n2-3 sessions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T23:38:49.304421+07:00","created_by":"nayakayp","updated_at":"2026-01-07T01:02:54.693027+07:00","closed_at":"2026-01-07T01:02:54.693027+07:00","close_reason":"Frontend TanStack Start setup complete - implemented in monorepo structure at frontend/","labels":["feature","frontend","infrastructure","priority-critical"]}
{"id":"notionv2-clone-dn2","title":"Import System (Markdown, HTML, CSV, Notion)","description":"## Overview\nImplement import functionality for various file formats.\n\n## Tech Stack\n- **Backend**: Hono, File parsing libraries\n- **Frontend**: TanStack Query\n- **Parsers**: marked, csv-parse, html-to-markdown\n\n## Features\n\n### 1. Markdown Import\n- [ ] Upload .md files\n- [ ] Parse headings to blocks\n- [ ] Parse lists to list blocks\n- [ ] Parse code blocks\n- [ ] Parse images (link or upload)\n- [ ] Parse tables\n- [ ] Frontmatter handling\n\n### 2. HTML Import\n- [ ] Upload .html files\n- [ ] Convert to blocks\n- [ ] Handle styles (bold, italic)\n- [ ] Handle images\n- [ ] Handle links\n- [ ] Clean up unnecessary tags\n\n### 3. CSV Import\n- [ ] Upload .csv files\n- [ ] Create database from CSV\n- [ ] Map columns to properties\n- [ ] Data type detection\n- [ ] Handle headers\n\n### 4. Notion Export Import\n- [ ] Import Notion .zip export\n- [ ] Preserve page structure\n- [ ] Import databases\n- [ ] Import properties\n- [ ] Handle nested pages\n\n### 5. Word Document Import\n- [ ] Upload .docx files\n- [ ] Convert formatting\n- [ ] Handle images\n- [ ] Handle tables\n\n### 6. Evernote Import\n- [ ] Import .enex files\n- [ ] Convert notes to pages\n- [ ] Handle attachments\n- [ ] Preserve tags\n\n### 7. Import Wizard\n- [ ] File upload step\n- [ ] Format detection\n- [ ] Preview/mapping step\n- [ ] Destination selection\n- [ ] Import progress\n- [ ] Success/error summary\n\n### 8. API Endpoints\n```\nPOST /api/import/upload\nPOST /api/import/preview\nPOST /api/import/execute\nGET  /api/import/:id/status\n```\n\n### 9. Components\n- [ ] ImportDialog\n- [ ] FileUploader\n- [ ] ImportPreview\n- [ ] ColumnMapper (CSV)\n- [ ] ImportProgress\n- [ ] ImportResult\n\n## Import Flow\n```\n1. Upload file(s)\n2. Detect format\n3. Parse and preview\n4. User confirms/maps\n5. Create pages/databases\n6. Show results\n```\n\n## Acceptance Criteria\n- [ ] Markdown import works\n- [ ] HTML import works\n- [ ] CSV creates database\n- [ ] Notion export imports\n- [ ] Progress indicator works\n- [ ] Error handling works\n- [ ] Nested structures preserved\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-0xd (Database Core)\n- notionv2-clone-xru (File Storage)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:00:42.763196+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:00:42.763196+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-dn2","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:00:42.767922+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-dn2","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-07T00:00:42.769869+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-dn2","depends_on_id":"notionv2-clone-xru","type":"blocks","created_at":"2026-01-07T00:00:42.771157+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-dn2","depends_on_id":"notionv2-clone-1ej","type":"blocks","created_at":"2026-01-07T00:29:04.11977+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-dq7","title":"Tests: Frontend Setup (TanStack Start)","description":"## Test Scope\n- **Feature issue**: notionv2-clone-d7k\n- **Test type**: Frontend unit tests\n\n## Test Checklist\n- [ ] TanStack Router renders correctly\n- [ ] TanStack Query provider works\n- [ ] Zustand store initializes\n- [ ] Shadcn UI components render\n- [ ] Tailwind CSS classes apply\n- [ ] All tests passing\n\n## Commands\npnpm test:frontend","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T00:24:27.87041+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:24:27.87041+07:00","labels":["frontend","priority-critical","test"],"dependencies":[{"issue_id":"notionv2-clone-dq7","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:27:01.683324+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-e21","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-jtr\n- **Test type**:  Plans \u0026 Billing (Polar.sh)\n\n## Focus Areas\nfull-stack:Plan display, checkout, subscription management, feature gating, webhooks\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Plans \u0026 Billing (Polar.sh)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.62143+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.62143+07:00","labels":[" Plans \u0026 Billing (Polar.sh)","test"],"dependencies":[{"issue_id":"notionv2-clone-e21","depends_on_id":"notionv2-clone-jtr","type":"blocks","created_at":"2026-01-07T00:29:42.250065+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-eau","title":"Media Blocks (Images, Video, Audio, Files)","description":"## Overview\nImplement media block types including images, videos, audio, files, and PDFs.\n\n## Tech Stack\n- **Editor**: Slate.js\n- **Upload**: File Storage System\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Image Block\n- [ ] Upload image from computer\n- [ ] Paste image from clipboard\n- [ ] Drag \u0026 drop image\n- [ ] Image URL embed\n- [ ] Unsplash integration\n- [ ] Image resize handles\n- [ ] Image alignment (left, center, right, full)\n- [ ] Image caption\n- [ ] Alt text for accessibility\n- [ ] Image click to expand (lightbox)\n- [ ] Image cropping/masking\n\n### 2. Image Gallery\n- [ ] Multiple images in grid\n- [ ] Gallery layout options\n- [ ] Reorder images (drag)\n- [ ] Add/remove images\n\n### 3. Video Block\n- [ ] Upload video file\n- [ ] Video URL embed\n- [ ] YouTube embed\n- [ ] Vimeo embed\n- [ ] Loom embed\n- [ ] Video player controls\n- [ ] Autoplay option\n- [ ] Video caption\n\n### 4. Audio Block\n- [ ] Upload audio file\n- [ ] Audio URL embed\n- [ ] Spotify embed\n- [ ] SoundCloud embed\n- [ ] Audio player controls\n- [ ] Waveform visualization (optional)\n\n### 5. File Attachment Block\n- [ ] Upload any file type\n- [ ] File icon by type\n- [ ] File name display\n- [ ] File size display\n- [ ] Download button\n- [ ] Preview for supported types\n\n### 6. PDF Block\n- [ ] Upload PDF\n- [ ] PDF URL embed\n- [ ] In-page PDF viewer\n- [ ] Page navigation\n- [ ] Zoom controls\n- [ ] Download button\n\n### 7. Web Bookmark Block\n- [ ] URL input\n- [ ] Fetch link metadata (title, description, image)\n- [ ] Bookmark card display\n- [ ] Edit bookmark info\n- [ ] Open link button\n\n### 8. Upload UI\n- [ ] Drag \u0026 drop zone\n- [ ] Upload progress indicator\n- [ ] Upload error handling\n- [ ] File type validation\n- [ ] Size limit feedback\n\n### 9. Block Components\n- [ ] ImageBlock\n- [ ] ImageGallery\n- [ ] VideoBlock\n- [ ] AudioBlock\n- [ ] FileBlock\n- [ ] PDFBlock\n- [ ] BookmarkBlock\n- [ ] MediaUploader (shared)\n- [ ] MediaPlaceholder\n\n### 10. API Endpoints\n```\nPOST /api/blocks/:id/upload\nGET  /api/embeds/metadata?url=xxx\n```\n\n## Acceptance Criteria\n- [ ] Images upload and display correctly\n- [ ] Image resizing works\n- [ ] Videos play inline\n- [ ] YouTube/Vimeo embeds work\n- [ ] Audio plays inline\n- [ ] File downloads work\n- [ ] PDF viewer works\n- [ ] Bookmarks fetch metadata\n- [ ] All media types save/load correctly\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor Core)\n- notionv2-clone-xru (File Storage)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:45:39.481788+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:45:39.481788+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-eau","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:45:39.485323+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-eau","depends_on_id":"notionv2-clone-xru","type":"blocks","created_at":"2026-01-06T23:45:39.487385+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-eau","depends_on_id":"notionv2-clone-9f8","type":"blocks","created_at":"2026-01-07T00:27:23.997977+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-ekc","title":"Database Filters \u0026 Sorting System","description":"## Overview\nImplement comprehensive filtering and sorting for database views.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Filter System\n- [ ] Add filter button\n- [ ] Filter rule builder\n- [ ] Multiple filters support\n- [ ] Remove filter\n- [ ] Clear all filters\n\n### 2. Filter Operators by Type\n```typescript\n// Text/Title\n'is', 'is_not', 'contains', 'does_not_contain',\n'starts_with', 'ends_with', 'is_empty', 'is_not_empty'\n\n// Number\n'=', '≠', '\u003e', '\u003e=', '\u003c', '\u003c=', 'is_empty', 'is_not_empty'\n\n// Select/Status\n'is', 'is_not', 'is_empty', 'is_not_empty'\n\n// Multi-select\n'contains', 'does_not_contain', 'is_empty', 'is_not_empty'\n\n// Date\n'is', 'is_before', 'is_after', 'is_on_or_before', 'is_on_or_after',\n'is_within', 'is_empty', 'is_not_empty'\n\n// Date relative options\n'today', 'tomorrow', 'yesterday', 'one_week_ago', 'one_week_from_now',\n'one_month_ago', 'one_month_from_now', 'this_week', 'this_month', 'this_year'\n\n// Checkbox\n'is_checked', 'is_not_checked'\n\n// Person\n'contains', 'does_not_contain', 'is_empty', 'is_not_empty'\n\n// Files\n'is_empty', 'is_not_empty'\n\n// Relation\n'contains', 'does_not_contain', 'is_empty', 'is_not_empty'\n```\n\n### 3. Filter Groups (AND/OR)\n- [ ] AND logic (all conditions)\n- [ ] OR logic (any condition)\n- [ ] Nested filter groups\n- [ ] Group toggle (AND ↔ OR)\n\n### 4. Advanced Filters\n- [ ] Filter by formula result\n- [ ] Filter by rollup value\n- [ ] Filter by created/edited time\n- [ ] Filter by created/edited by\n- [ ] Save filter as view\n\n### 5. Quick Filters\n- [ ] Property-based quick filter\n- [ ] Click value to filter\n- [ ] Filter chips display\n- [ ] Quick clear individual filter\n\n### 6. Sorting\n- [ ] Add sort rule\n- [ ] Sort property selection\n- [ ] Sort direction (asc/desc)\n- [ ] Multiple sort rules\n- [ ] Sort rule reordering\n- [ ] Remove sort rule\n\n### 7. Sort by Property Types\n- [ ] Text: alphabetical\n- [ ] Number: numerical\n- [ ] Date: chronological\n- [ ] Select: option order\n- [ ] Checkbox: checked first/last\n- [ ] Person: alphabetical\n- [ ] Created/edited time: chronological\n\n### 8. View-Specific Settings\n- [ ] Filters per view\n- [ ] Sorts per view\n- [ ] Save with view\n- [ ] Reset to view defaults\n\n### 9. Filter UI Components\n- [ ] FilterBar (displays active filters)\n- [ ] FilterBuilder (add/edit filters)\n- [ ] FilterRule (single rule)\n- [ ] FilterGroup (AND/OR group)\n- [ ] FilterOperatorSelect\n- [ ] FilterValueInput\n- [ ] SortBuilder\n- [ ] SortRule\n\n### 10. API Considerations\n```typescript\ninterface DatabaseQuery {\n  filters: FilterGroup;\n  sorts: Sort[];\n  limit?: number;\n  cursor?: string;\n}\n\ninterface FilterGroup {\n  operator: 'and' | 'or';\n  conditions: (FilterRule | FilterGroup)[];\n}\n\ninterface FilterRule {\n  propertyId: string;\n  operator: FilterOperator;\n  value: any;\n}\n\ninterface Sort {\n  propertyId: string;\n  direction: 'asc' | 'desc';\n}\n```\n\n## Acceptance Criteria\n- [ ] All property types have appropriate operators\n- [ ] Filter builder UI is intuitive\n- [ ] AND/OR logic works correctly\n- [ ] Multiple filters combine correctly\n- [ ] Sorting works for all property types\n- [ ] Multiple sorts work in order\n- [ ] Filters/sorts save with view\n- [ ] Performance is good with many items\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:53:38.946519+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:53:38.946519+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-ekc","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:53:38.950027+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ekc","depends_on_id":"notionv2-clone-plt","type":"blocks","created_at":"2026-01-07T00:28:42.045512+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-eub","title":"Sharing \u0026 Permissions System","description":"## Overview\nImplement comprehensive sharing and permission management for pages and databases.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Permission Levels\n```typescript\ntype PermissionLevel =\n  | 'full_access'    // Can share, edit permissions, delete\n  | 'can_edit'       // Can edit content and properties\n  | 'can_edit_content' // Can edit content only (database rows)\n  | 'can_comment'    // Can view and comment\n  | 'can_view';      // View only\n```\n\n### 2. Share with Workspace\n- [ ] Share with entire workspace\n- [ ] Default workspace permission\n- [ ] Inherit from parent option\n\n### 3. Share with People\n- [ ] Search workspace members\n- [ ] Invite by email\n- [ ] Set permission level\n- [ ] Remove access\n\n### 4. Share with Groups\n- [ ] Create groups\n- [ ] Add members to groups\n- [ ] Share with group\n- [ ] Group permission level\n\n### 5. Guest Access\n- [ ] Invite external users\n- [ ] Guest accounts\n- [ ] Limited guest permissions\n- [ ] Guest management\n\n### 6. Public Sharing\n- [ ] Make page public\n- [ ] Generate public link\n- [ ] Public page settings:\n  - Allow duplicate\n  - Allow comments\n  - Search engine indexing\n  - Expiration date\n  - Password protection\n- [ ] Disable public sharing\n\n### 7. Permission Inheritance\n- [ ] Child pages inherit by default\n- [ ] Override parent permissions\n- [ ] Show inherited permissions\n- [ ] Cascade permission changes\n\n### 8. Page-Level Permissions\n- [ ] Override workspace defaults\n- [ ] Custom permissions per page\n- [ ] Show effective permissions\n\n### 9. Database Row Permissions\n- [ ] Property-based rules (Business+)\n- [ ] Row-level access control\n- [ ] Creator-only editing\n\n### 10. Share Dialog\n- [ ] Current sharing status\n- [ ] Add people/groups\n- [ ] Manage existing shares\n- [ ] Copy link button\n- [ ] Public settings\n\n### 11. Permission Checks\n- [ ] Middleware for API routes\n- [ ] Frontend permission hooks\n- [ ] UI based on permissions\n- [ ] Action visibility\n\n### 12. API Endpoints\n```\nGET    /api/pages/:id/permissions\nPOST   /api/pages/:id/permissions\nPUT    /api/pages/:id/permissions/:permId\nDELETE /api/pages/:id/permissions/:permId\n\nPOST   /api/pages/:id/share/public\nDELETE /api/pages/:id/share/public\nPUT    /api/pages/:id/share/public/settings\n\nPOST   /api/invitations\nGET    /api/invitations/pending\n```\n\n### 13. Components\n- [ ] ShareDialog\n- [ ] SharePeopleList\n- [ ] SharePersonRow\n- [ ] PermissionSelect\n- [ ] PublicShareSettings\n- [ ] InviteInput\n- [ ] GroupManager\n\n## Permission Check Flow\n```typescript\nasync function checkPermission(\n  userId: string,\n  pageId: string,\n  requiredLevel: PermissionLevel\n): Promise\u003cboolean\u003e {\n  // 1. Check direct user permission\n  // 2. Check group permissions\n  // 3. Check workspace membership\n  // 4. Check parent page inheritance\n  // 5. Check public access\n  return hasPermission;\n}\n```\n\n## Acceptance Criteria\n- [ ] All permission levels work correctly\n- [ ] Share with people works\n- [ ] Share with groups works\n- [ ] Guest invitations work\n- [ ] Public pages work\n- [ ] Permission inheritance works\n- [ ] Permission checks enforce access\n- [ ] UI reflects user permissions\n- [ ] Password-protected pages work\n\n## Dependencies\n- notionv2-clone-2ys (Workspace Management)\n- notionv2-clone-a5p (Page CRUD)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:57:09.520313+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:57:09.520313+07:00","labels":["backend","feature","frontend","security"],"dependencies":[{"issue_id":"notionv2-clone-eub","depends_on_id":"notionv2-clone-2ys","type":"blocks","created_at":"2026-01-06T23:57:09.52452+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-eub","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:57:09.526187+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-eub","depends_on_id":"notionv2-clone-map","type":"blocks","created_at":"2026-01-07T00:28:42.983039+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-fne","title":"Notifications \u0026 Inbox System","description":"## Overview\nImplement notification system with inbox for updates, mentions, and activity.\n\n## Tech Stack\n- **Backend**: Hono, Drizzle ORM\n- **Real-time**: WebSocket\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Notification Types\n- [ ] Page mentions (@page)\n- [ ] User mentions (@user)\n- [ ] Comment on your page\n- [ ] Reply to your comment\n- [ ] Page shared with you\n- [ ] Workspace invitation\n- [ ] Page updated (following)\n- [ ] Reminder notifications\n- [ ] Property assignments\n\n### 2. Inbox View\n- [ ] Sidebar inbox section\n- [ ] Inbox page/panel\n- [ ] Unread count badge\n- [ ] List of notifications\n- [ ] Mark as read\n- [ ] Mark all as read\n\n### 3. Notification Display\n- [ ] Actor avatar\n- [ ] Action description\n- [ ] Target page/item\n- [ ] Timestamp\n- [ ] Preview snippet\n\n### 4. Notification Actions\n- [ ] Click to navigate\n- [ ] Archive notification\n- [ ] Unfollow page\n- [ ] Mute notifications from...\n\n### 5. Real-Time Delivery\n- [ ] WebSocket push\n- [ ] Badge update\n- [ ] Toast notification (optional)\n- [ ] Sound (optional)\n\n### 6. Notification Preferences\n- [ ] Enable/disable by type\n- [ ] Email notifications\n- [ ] Push notifications (future)\n- [ ] Do not disturb mode\n- [ ] Digest options (immediate, daily, weekly)\n\n### 7. Page Following\n- [ ] Auto-follow pages you create\n- [ ] Auto-follow pages you edit\n- [ ] Manual follow/unfollow\n- [ ] Following list\n\n### 8. API Endpoints\n```\nGET    /api/notifications\nGET    /api/notifications/unread-count\nPUT    /api/notifications/:id/read\nPUT    /api/notifications/read-all\nDELETE /api/notifications/:id\nGET    /api/notifications/preferences\nPUT    /api/notifications/preferences\nPOST   /api/pages/:id/follow\nDELETE /api/pages/:id/follow\n```\n\n### 9. Components\n- [ ] InboxPanel\n- [ ] NotificationList\n- [ ] NotificationItem\n- [ ] NotificationBadge\n- [ ] NotificationPreferences\n- [ ] FollowButton\n\n## Notification Model\n```typescript\ninterface Notification {\n  id: string;\n  userId: string;\n  type: NotificationType;\n  actorId: string;\n  targetType: 'page' | 'comment' | 'workspace';\n  targetId: string;\n  data: Record\u003cstring, any\u003e;\n  readAt: Date | null;\n  createdAt: Date;\n}\n```\n\n## Acceptance Criteria\n- [ ] Notifications create on events\n- [ ] Inbox shows notifications\n- [ ] Real-time updates work\n- [ ] Mark as read works\n- [ ] Preferences save correctly\n- [ ] Email notifications work\n- [ ] Following/unfollowing works\n\n## Dependencies\n- notionv2-clone-fxs (Authentication)\n- notionv2-clone-1ce (Real-Time System)\n- notionv2-clone-bw2 (Comments)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:01:47.470677+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:01:47.470677+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-fne","depends_on_id":"notionv2-clone-fxs","type":"blocks","created_at":"2026-01-07T00:01:47.473147+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-fne","depends_on_id":"notionv2-clone-1ce","type":"blocks","created_at":"2026-01-07T00:01:47.474538+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-fne","depends_on_id":"notionv2-clone-bw2","type":"blocks","created_at":"2026-01-07T00:01:47.476233+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-fne","depends_on_id":"notionv2-clone-4qm","type":"blocks","created_at":"2026-01-07T00:29:04.775373+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-frq","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-n9d\n- **Test type**:  Search System\n\n## Focus Areas\nfull-stack:Full-text search, quick find, filters, recent searches\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Search System","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.929284+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.929284+07:00","labels":[" Search System","test"],"dependencies":[{"issue_id":"notionv2-clone-frq","depends_on_id":"notionv2-clone-n9d","type":"blocks","created_at":"2026-01-07T00:28:43.395947+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-fxs","title":"Authentication System (BetterAuth)","description":"## Overview\nImplement complete authentication system using BetterAuth for the Notion Clone.\n\n## Tech Stack\n- **Backend**: Hono + BetterAuth + Drizzle ORM + PostgreSQL\n- **Frontend**: TanStack Start + TanStack Query + Zustand\n- **Validation**: Zod\n\n## Features to Implement\n\n### 1. Core Authentication\n- [ ] Email/password registration with validation\n- [ ] Email/password login\n- [ ] Logout functionality\n- [ ] Session management (JWT tokens)\n- [ ] Remember me functionality\n- [ ] Password hashing (bcrypt/argon2)\n\n### 2. OAuth Providers\n- [ ] Google OAuth integration\n- [ ] GitHub OAuth integration\n- [ ] Apple OAuth integration (optional)\n- [ ] OAuth callback handling\n- [ ] Account linking (multiple providers to one account)\n\n### 3. Password Management\n- [ ] Forgot password flow\n- [ ] Password reset via email\n- [ ] Password change (authenticated)\n- [ ] Password strength validation\n- [ ] Password history (prevent reuse)\n\n### 4. Email Verification\n- [ ] Send verification email on registration\n- [ ] Verification token generation\n- [ ] Email verification endpoint\n- [ ] Resend verification email\n\n### 5. Security Features\n- [ ] Rate limiting on auth endpoints\n- [ ] Account lockout after failed attempts\n- [ ] CSRF protection\n- [ ] Secure cookie settings (httpOnly, secure, sameSite)\n- [ ] Session invalidation on password change\n\n### 6. Two-Factor Authentication (2FA)\n- [ ] TOTP setup (Google Authenticator compatible)\n- [ ] 2FA verification during login\n- [ ] Backup codes generation\n- [ ] 2FA disable with password confirmation\n\n### 7. Frontend Components\n- [ ] Login page (/login)\n- [ ] Register page (/register)\n- [ ] Forgot password page (/forgot-password)\n- [ ] Reset password page (/reset-password)\n- [ ] 2FA setup page (/settings/security)\n- [ ] Auth state management (Zustand store)\n- [ ] Protected route wrapper component\n- [ ] Auth context provider\n\n### 8. API Endpoints (Hono)\n```\nPOST /api/auth/register\nPOST /api/auth/login\nPOST /api/auth/logout\nPOST /api/auth/forgot-password\nPOST /api/auth/reset-password\nPOST /api/auth/verify-email\nPOST /api/auth/resend-verification\nGET  /api/auth/me\nPUT  /api/auth/password\nPOST /api/auth/2fa/setup\nPOST /api/auth/2fa/verify\nDELETE /api/auth/2fa/disable\nGET  /api/auth/oauth/:provider\nGET  /api/auth/oauth/:provider/callback\n```\n\n### 9. Database Schema (Drizzle)\n```typescript\n// users table\n- id: uuid (primary key)\n- email: varchar(255) unique\n- password_hash: varchar(255)\n- email_verified: boolean\n- email_verified_at: timestamp\n- two_factor_enabled: boolean\n- two_factor_secret: varchar(255)\n- created_at: timestamp\n- updated_at: timestamp\n\n// sessions table\n- id: uuid (primary key)\n- user_id: uuid (foreign key)\n- token: varchar(255)\n- expires_at: timestamp\n- ip_address: varchar(45)\n- user_agent: text\n- created_at: timestamp\n\n// oauth_accounts table\n- id: uuid (primary key)\n- user_id: uuid (foreign key)\n- provider: varchar(50)\n- provider_account_id: varchar(255)\n- access_token: text\n- refresh_token: text\n- expires_at: timestamp\n- created_at: timestamp\n\n// password_reset_tokens table\n- id: uuid (primary key)\n- user_id: uuid (foreign key)\n- token: varchar(255)\n- expires_at: timestamp\n- used: boolean\n- created_at: timestamp\n\n// email_verification_tokens table\n- id: uuid (primary key)\n- user_id: uuid (foreign key)\n- token: varchar(255)\n- expires_at: timestamp\n- created_at: timestamp\n\n// backup_codes table\n- id: uuid (primary key)\n- user_id: uuid (foreign key)\n- code_hash: varchar(255)\n- used: boolean\n- used_at: timestamp\n```\n\n## Acceptance Criteria\n- [ ] User can register with email/password\n- [ ] User can login/logout\n- [ ] OAuth providers work correctly\n- [ ] Password reset flow is functional\n- [ ] Email verification works\n- [ ] 2FA can be enabled/disabled\n- [ ] Sessions persist across page refreshes\n- [ ] Protected routes redirect to login\n- [ ] All auth endpoints have proper error handling\n- [ ] Rate limiting prevents brute force attacks\n\n## Dependencies\nNone (foundational feature)\n\n## Labels\nfeature, backend, frontend, security, priority-high","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:36:04.018522+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:36:04.018522+07:00","labels":["backend","feature","frontend","security"],"dependencies":[{"issue_id":"notionv2-clone-fxs","depends_on_id":"notionv2-clone-r6r","type":"blocks","created_at":"2026-01-07T00:27:01.985811+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-fz9","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-wg6\n- **Test type**:  Localization (i18n)\n\n## Focus Areas\nfrontend:Language switching, translations, date/number formatting, RTL support\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Localization (i18n)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.745913+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.745913+07:00","labels":[" Localization (i18n)","test"],"dependencies":[{"issue_id":"notionv2-clone-fz9","depends_on_id":"notionv2-clone-wg6","type":"blocks","created_at":"2026-01-07T00:29:43.972759+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-g6m","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-igp\n- **Test type**:  Page Analytics\n\n## Focus Areas\nfull-stack:View tracking, analytics display, edit history\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Page Analytics","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.566427+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.566427+07:00","labels":[" Page Analytics","test"],"dependencies":[{"issue_id":"notionv2-clone-g6m","depends_on_id":"notionv2-clone-igp","type":"blocks","created_at":"2026-01-07T00:29:41.185987+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-g9x","title":"Database Relations \u0026 Rollups","description":"## Overview\nImplement relation properties to link databases and rollups to aggregate related data.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Relation Property\n- [ ] Create relation to another database\n- [ ] Select target database\n- [ ] Relation name configuration\n- [ ] One-way relation\n- [ ] Two-way (bidirectional) relation\n\n### 2. Two-Way Relations\n- [ ] Create linked property in target database\n- [ ] Auto-name synced property\n- [ ] Sync updates both sides\n- [ ] Delete handling\n\n### 3. Self-Relations\n- [ ] Relate database to itself\n- [ ] Parent-child relationships\n- [ ] Sub-items implementation\n\n### 4. Relation Editor\n- [ ] Search items in target database\n- [ ] Filter items while searching\n- [ ] Multi-select items\n- [ ] Create new item from editor\n- [ ] Remove relations\n- [ ] Limit visible items\n\n### 5. Relation Display\n- [ ] Show related item titles\n- [ ] Linked item count\n- [ ] Click to open related item\n- [ ] Limit display count (show +N more)\n\n### 6. Rollup Property\n- [ ] Select source relation property\n- [ ] Select property from related database\n- [ ] Select calculation method\n\n### 7. Rollup Calculations\n```typescript\ntype RollupCalculation =\n  // Show all\n  | 'show_original'\n  | 'show_unique'\n  \n  // Count\n  | 'count_all'\n  | 'count_values'\n  | 'count_unique'\n  | 'count_empty'\n  | 'count_not_empty'\n  \n  // Percent\n  | 'percent_empty'\n  | 'percent_not_empty'\n  | 'percent_checked'\n  | 'percent_unchecked'\n  \n  // Number\n  | 'sum'\n  | 'average'\n  | 'median'\n  | 'min'\n  | 'max'\n  | 'range'\n  \n  // Date\n  | 'earliest_date'\n  | 'latest_date'\n  | 'date_range'\n  \n  // Boolean\n  | 'checked'\n  | 'unchecked';\n```\n\n### 8. Rollup Display\n- [ ] Display based on calculation type\n- [ ] Number formatting\n- [ ] Date formatting\n- [ ] List display\n\n### 9. Dependencies (Timeline)\n- [ ] Use relations for dependencies\n- [ ] Dependency visualization\n- [ ] Blocking/blocked by\n\n### 10. API Endpoints\n```\nPUT  /api/databases/:id/properties/:propId/relation\nPOST /api/database-items/:itemId/relations/:propId\nDELETE /api/database-items/:itemId/relations/:propId/:targetItemId\nGET  /api/databases/:id/items/search?q=xxx (for relation picker)\n```\n\n### 11. Components\n- [ ] RelationEditor\n- [ ] RelationItemPicker\n- [ ] RelationDisplay\n- [ ] RollupConfig\n- [ ] RollupDisplay\n- [ ] RelationPropertyConfig\n\n## Acceptance Criteria\n- [ ] One-way relations work\n- [ ] Two-way relations sync both sides\n- [ ] Self-relations work\n- [ ] Relation editor searchable\n- [ ] Multiple relations per item work\n- [ ] All rollup calculations work\n- [ ] Rollups update on relation change\n- [ ] Performance acceptable with many relations\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:54:34.221858+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:54:34.221858+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-g9x","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:54:34.228139+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-g9x","depends_on_id":"notionv2-clone-ccd","type":"blocks","created_at":"2026-01-07T00:28:42.388609+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-gwv","title":"Database Timeline/Gantt View","description":"## Overview\nImplement the Timeline (Gantt) view for project and task management.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Date Handling**: date-fns\n- **UI**: Shadcn UI, custom canvas/SVG\n\n## Features\n\n### 1. Timeline Structure\n- [ ] Left panel: item list (fixed width)\n- [ ] Right panel: timeline (scrollable)\n- [ ] Time scale header (days/weeks/months)\n- [ ] Zoom levels (day, week, month, quarter)\n\n### 2. Time Scale\n- [ ] Day view (hourly slots)\n- [ ] Week view (daily slots)\n- [ ] Month view (weekly slots)\n- [ ] Quarter view (monthly slots)\n- [ ] Year view\n\n### 3. Item Display\n- [ ] Horizontal bar per item\n- [ ] Bar position = start date\n- [ ] Bar length = duration\n- [ ] Item title in bar\n- [ ] Item color (from property)\n- [ ] Progress indicator (optional)\n\n### 4. Date Configuration\n- [ ] Select start date property\n- [ ] Select end date property\n- [ ] Auto-calculate duration\n- [ ] Show items without dates\n\n### 5. Item Manipulation\n- [ ] Drag bar to change dates\n- [ ] Drag bar ends to resize\n- [ ] Snap to grid (day/week)\n- [ ] Undo/redo changes\n\n### 6. Dependencies (Sub-items)\n- [ ] Show sub-items nested\n- [ ] Expand/collapse parent items\n- [ ] Indent level visualization\n- [ ] Dependency arrows (optional)\n\n### 7. Today Marker\n- [ ] Vertical line for today\n- [ ] Scroll to today button\n- [ ] Past/future visual distinction\n\n### 8. Grouping\n- [ ] Group by property\n- [ ] Group headers\n- [ ] Collapsible groups\n\n### 9. Navigation\n- [ ] Scroll timeline\n- [ ] Zoom in/out\n- [ ] Jump to date\n- [ ] Today button\n\n### 10. Table Columns\n- [ ] Title column (required)\n- [ ] Additional property columns\n- [ ] Resizable columns\n- [ ] Hide/show columns\n\n### 11. Components\n- [ ] TimelineView container\n- [ ] TimelineTable (left panel)\n- [ ] TimelineChart (right panel)\n- [ ] TimelineHeader (date scale)\n- [ ] TimelineRow\n- [ ] TimelineBar\n- [ ] TimelineMarker\n- [ ] ZoomControls\n\n## Timeline State\n```typescript\ninterface TimelineViewState {\n  startDateProperty: string;\n  endDateProperty: string;\n  zoomLevel: 'day' | 'week' | 'month' | 'quarter';\n  scrollPosition: Date;\n  tableWidth: number;\n  visibleProperties: string[];\n  groupBy: string | null;\n  showDependencies: boolean;\n}\n```\n\n## Acceptance Criteria\n- [ ] Timeline displays items with date ranges\n- [ ] Zoom levels work correctly\n- [ ] Drag to move items works\n- [ ] Drag to resize duration works\n- [ ] Today marker shows\n- [ ] Grouping works\n- [ ] Sub-items display correctly\n- [ ] Performance with 100+ items\n- [ ] Horizontal scroll syncs table and chart\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:51:41.045554+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:51:41.045554+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-gwv","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:51:41.047755+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-gwv","depends_on_id":"notionv2-clone-5me","type":"blocks","created_at":"2026-01-07T00:27:45.535547+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-hdt","title":"Inline Elements \u0026 Mentions","description":"## Overview\nImplement inline elements including mentions, links, dates, and inline equations.\n\n## Tech Stack\n- **Editor**: Slate.js\n- **Math**: KaTeX\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Links\n- [ ] Detect URLs and auto-link\n- [ ] Create link from selection\n- [ ] Link editing popover\n- [ ] Open link in new tab\n- [ ] Remove link\n- [ ] Link preview on hover\n\n### 2. Page Mentions (@page)\n- [ ] @ trigger for page search\n- [ ] Search pages by title\n- [ ] Recent pages list\n- [ ] Insert page link inline\n- [ ] Page icon display\n- [ ] Click to navigate\n\n### 3. User Mentions (@person)\n- [ ] @ trigger for user search\n- [ ] Search workspace members\n- [ ] Insert user mention\n- [ ] User avatar display\n- [ ] Creates notification\n\n### 4. Date Mentions (@date)\n- [ ] @ trigger for date picker\n- [ ] Date picker calendar\n- [ ] Include time option\n- [ ] Date formats (relative, absolute)\n- [ ] Reminder setting\n- [ ] End date option\n\n### 5. Inline Equations\n- [ ] LaTeX/KaTeX support\n- [ ] Inline equation input\n- [ ] Equation preview\n- [ ] Edit on click\n- [ ] Common symbols palette\n\n### 6. Emoji\n- [ ] Emoji picker (:)\n- [ ] Emoji search\n- [ ] Recent emojis\n- [ ] Skin tone selection\n- [ ] Convert text to emoji (:smile:)\n\n### 7. Components\n- [ ] LinkPopover (edit/remove link)\n- [ ] MentionMenu (page/user search)\n- [ ] DatePicker component\n- [ ] InlineEquation component\n- [ ] EmojiPicker component\n\n### 8. Inline Element Types\n```typescript\ninterface LinkElement {\n  type: 'link';\n  url: string;\n  children: Descendant[];\n}\n\ninterface PageMention {\n  type: 'page_mention';\n  pageId: string;\n  children: [{ text: '' }];\n}\n\ninterface UserMention {\n  type: 'user_mention';\n  userId: string;\n  children: [{ text: '' }];\n}\n\ninterface DateMention {\n  type: 'date_mention';\n  date: string;\n  includeTime: boolean;\n  reminder?: string;\n  children: [{ text: '' }];\n}\n\ninterface InlineEquation {\n  type: 'inline_equation';\n  latex: string;\n  children: [{ text: '' }];\n}\n```\n\n### 9. Keyboard Shortcuts\n- [ ] Cmd+K for link\n- [ ] @ for mentions\n- [ ] : for emoji\n- [ ] $ for inline equation\n\n## Acceptance Criteria\n- [ ] Links can be created and edited\n- [ ] Page mentions work with search\n- [ ] User mentions work with notifications\n- [ ] Date mentions with calendar work\n- [ ] Inline equations render correctly\n- [ ] Emoji picker works\n- [ ] All shortcuts trigger correctly\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:45:12.375273+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:45:12.375273+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-hdt","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:45:12.379817+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-hdt","depends_on_id":"notionv2-clone-31o","type":"blocks","created_at":"2026-01-07T00:27:23.864925+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-ig6","title":"Personalization \u0026 Settings UI","description":"## Overview\nImplement user personalization settings and preferences UI.\n\n## Tech Stack\n- **Frontend**: TanStack Start, TanStack Form, Zustand\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Theme Settings\n- [ ] Light mode\n- [ ] Dark mode\n- [ ] System preference\n- [ ] Theme persistence\n- [ ] Smooth theme transition\n\n### 2. Font Settings\n- [ ] Default font\n- [ ] Serif font\n- [ ] Mono font\n- [ ] Font preview\n- [ ] Apply to all pages\n\n### 3. Display Settings\n- [ ] Default page width (full/normal)\n- [ ] Default small text\n- [ ] Sidebar width\n- [ ] Show/hide sidebar on start\n\n### 4. Date \u0026 Time Settings\n- [ ] Date format (MM/DD/YYYY, DD/MM/YYYY, etc.)\n- [ ] Time format (12h/24h)\n- [ ] Timezone selection\n- [ ] Week starts on (Sunday/Monday)\n\n### 5. Language Settings\n- [ ] Language selection\n- [ ] 12+ languages support\n- [ ] UI language change\n- [ ] Spellcheck language\n\n### 6. Notification Settings\n- [ ] In-app notifications toggle\n- [ ] Email notification toggle\n- [ ] Notification types\n- [ ] Digest frequency\n\n### 7. Privacy Settings\n- [ ] Activity status visibility\n- [ ] Profile visibility\n- [ ] Data collection preferences\n\n### 8. Settings Pages\n- [ ] /settings/profile\n- [ ] /settings/preferences\n- [ ] /settings/notifications\n- [ ] /settings/security\n- [ ] /settings/connected-apps\n- [ ] /settings/workspace (admin)\n\n### 9. Settings Navigation\n- [ ] Settings sidebar\n- [ ] Category sections\n- [ ] Search settings\n- [ ] Breadcrumb navigation\n\n### 10. Components\n- [ ] SettingsLayout\n- [ ] SettingsSidebar\n- [ ] SettingsSection\n- [ ] ThemeSelector\n- [ ] FontSelector\n- [ ] TimezoneSelector\n- [ ] LanguageSelector\n\n## Preferences Model\n```typescript\ninterface UserPreferences {\n  theme: 'light' | 'dark' | 'system';\n  font: 'default' | 'serif' | 'mono';\n  language: string;\n  timezone: string;\n  dateFormat: string;\n  timeFormat: '12h' | '24h';\n  weekStartsOn: 0 | 1;\n  sidebarWidth: number;\n  defaultFullWidth: boolean;\n  defaultSmallText: boolean;\n}\n```\n\n## Acceptance Criteria\n- [ ] Theme switching works\n- [ ] Font changes apply\n- [ ] Date/time formats work\n- [ ] Language changes UI\n- [ ] Settings persist across sessions\n- [ ] Settings sync across devices\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-23b (User Profile)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:03:56.142207+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:03:56.142207+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-ig6","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:03:56.144045+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ig6","depends_on_id":"notionv2-clone-23b","type":"blocks","created_at":"2026-01-07T00:03:56.145343+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ig6","depends_on_id":"notionv2-clone-84y","type":"blocks","created_at":"2026-01-07T00:29:40.035322+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-igp","title":"Page Analytics System","description":"## Overview\nImplement page analytics including views, edits, and user activity.\n\n## Tech Stack\n- **Backend**: Hono, Drizzle ORM\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. View Tracking\n- [ ] Track page views\n- [ ] Unique visitors\n- [ ] View timestamps\n- [ ] Viewer identification\n\n### 2. Edit Tracking\n- [ ] Track edits\n- [ ] Editor identification\n- [ ] Edit timestamps\n- [ ] Change summary\n\n### 3. Page Analytics Display\n- [ ] Views count\n- [ ] Unique viewers count\n- [ ] Recent viewers avatars\n- [ ] Edit count\n- [ ] Last edited by/when\n\n### 4. Analytics Panel\n- [ ] Page analytics sidebar\n- [ ] Views over time chart\n- [ ] Top viewers list\n- [ ] Edit history\n\n### 5. Analytics API\n```\nGET /api/pages/:id/analytics\nGET /api/pages/:id/views\nGET /api/pages/:id/edits\n```\n\n### 6. Workspace Analytics (Admin)\n- [ ] Total pages\n- [ ] Total members\n- [ ] Active users\n- [ ] Storage usage\n- [ ] Popular pages\n\n### 7. Components\n- [ ] PageAnalyticsPanel\n- [ ] ViewsChart\n- [ ] ViewersList\n- [ ] EditHistory\n- [ ] WorkspaceAnalytics\n\n## Acceptance Criteria\n- [ ] Views are tracked\n- [ ] Unique visitors counted\n- [ ] Analytics display correctly\n- [ ] Charts render properly\n- [ ] Workspace stats work\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-2ys (Workspace Management)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:13.621796+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:04:13.621796+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-igp","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:04:13.625423+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-igp","depends_on_id":"notionv2-clone-2ys","type":"blocks","created_at":"2026-01-07T00:04:13.627248+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-igp","depends_on_id":"notionv2-clone-bh5","type":"blocks","created_at":"2026-01-07T00:29:41.269501+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-j0w","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-ekc\n- **Test type**:  Database Filters \u0026 Sorting\n\n## Focus Areas\nfull-stack:Single/multiple filters, filter groups AND/OR, sorting, multi-sort\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Filters \u0026 Sorting","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.508317+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.508317+07:00","labels":[" Database Filters \u0026 Sorting","test"],"dependencies":[{"issue_id":"notionv2-clone-j0w","depends_on_id":"notionv2-clone-ekc","type":"blocks","created_at":"2026-01-07T00:28:41.950196+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-jky","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-a5p\n- **Test type**:  Page CRUD \u0026 Core Features\n\n## Focus Areas\nfull-stack:Create/read/update/delete, nested pages, icons, covers, locking\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Page CRUD \u0026 Core Features","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.567315+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.567315+07:00","labels":[" Page CRUD \u0026 Core Features","test"],"dependencies":[{"issue_id":"notionv2-clone-jky","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:27:02.474178+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-jtr","title":"Plans \u0026 Billing (Polar.sh)","description":"## Overview\nImplement subscription plans and billing integration using Polar.sh.\n\n## Tech Stack\n- **Backend**: Hono, Polar.sh SDK\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Polar.sh Integration\n- [ ] Polar.sh SDK setup\n- [ ] Product/plan configuration\n- [ ] Checkout session creation\n- [ ] Webhook handling\n\n### 2. Subscription Plans\n- [ ] Free plan (default)\n- [ ] Plus plan\n- [ ] Business plan\n- [ ] Enterprise plan (custom)\n- [ ] Education plan (verify)\n\n### 3. Plan Features Matrix\n```\nFeature              | Free    | Plus    | Business\n---------------------|---------|---------|----------\nBlocks               | Limit   | Unlim   | Unlimited\nFile upload          | 5MB     | 10MB    | Unlimited\nVersion history      | 7 days  | 30 days | 90 days\nGuests               | 10      | 100     | 250\nAPI access           | No      | Yes     | Yes\nSSO                  | No      | No      | Yes\nAdmin controls       | No      | No      | Yes\n```\n\n### 4. Checkout Flow\n- [ ] Select plan\n- [ ] Billing period (monthly/annual)\n- [ ] Polar checkout redirect\n- [ ] Success page\n- [ ] Webhook confirmation\n\n### 5. Subscription Management\n- [ ] Current plan display\n- [ ] Upgrade plan\n- [ ] Downgrade plan\n- [ ] Cancel subscription\n- [ ] Reactivate subscription\n\n### 6. Billing Portal\n- [ ] Payment method management\n- [ ] Invoice history\n- [ ] Download invoices\n- [ ] Update billing info\n\n### 7. Feature Gating\n- [ ] Check plan limits\n- [ ] Upgrade prompts\n- [ ] Feature lock UI\n- [ ] Usage tracking\n\n### 8. Webhooks\n- [ ] subscription.created\n- [ ] subscription.updated\n- [ ] subscription.canceled\n- [ ] invoice.paid\n- [ ] payment.failed\n\n### 9. API Endpoints\n```\nGET    /api/billing/plans\nGET    /api/billing/subscription\nPOST   /api/billing/checkout\nPOST   /api/billing/portal\nPOST   /api/billing/webhook\nGET    /api/billing/invoices\n```\n\n### 10. Components\n- [ ] PricingTable\n- [ ] PlanCard\n- [ ] CurrentPlanBadge\n- [ ] UpgradeDialog\n- [ ] BillingSettings\n- [ ] InvoicesList\n- [ ] UsageMeter\n\n## Webhook Handler\n```typescript\nasync function handlePolarWebhook(event: PolarEvent) {\n  switch (event.type) {\n    case 'subscription.created':\n      await activatePlan(event.data);\n      break;\n    case 'subscription.canceled':\n      await downgradeToPlan(event.data, 'free');\n      break;\n    // ...\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] All plans display correctly\n- [ ] Checkout flow works\n- [ ] Subscription activates on payment\n- [ ] Upgrade/downgrade works\n- [ ] Cancellation works\n- [ ] Webhooks process correctly\n- [ ] Feature gating works\n- [ ] Invoices accessible\n\n## Dependencies\n- notionv2-clone-fxs (Authentication)\n- notionv2-clone-2ys (Workspace Management)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:05:25.232202+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:05:25.232202+07:00","labels":["backend","billing","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-jtr","depends_on_id":"notionv2-clone-fxs","type":"blocks","created_at":"2026-01-07T00:05:25.2359+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-jtr","depends_on_id":"notionv2-clone-2ys","type":"blocks","created_at":"2026-01-07T00:05:25.23797+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-jtr","depends_on_id":"notionv2-clone-g6m","type":"blocks","created_at":"2026-01-07T00:29:42.319218+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-kd8","title":"Database Linked Views \u0026 Multiple Views","description":"## Overview\nImplement linked database views and multiple views per database.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Multiple Views\n- [ ] Multiple views per database\n- [ ] View tabs UI\n- [ ] Add new view\n- [ ] Rename view\n- [ ] Delete view\n- [ ] Duplicate view\n- [ ] Reorder views\n\n### 2. View Types\n- [ ] Table view\n- [ ] Board view\n- [ ] List view\n- [ ] Calendar view\n- [ ] Gallery view\n- [ ] Timeline view\n- [ ] Chart view\n- [ ] Form view\n\n### 3. View-Specific Settings\n- [ ] Filters per view\n- [ ] Sorts per view\n- [ ] Visible properties per view\n- [ ] Property order per view\n- [ ] Group by per view\n- [ ] View-specific layout options\n\n### 4. Linked Database\n- [ ] Create linked view of database\n- [ ] Linked view as block\n- [ ] Source database reference\n- [ ] Sync with source\n- [ ] Independent view settings\n\n### 5. Linked View Features\n- [ ] Own filters\n- [ ] Own sorts\n- [ ] Own visible properties\n- [ ] Own grouping\n- [ ] Create items (adds to source)\n\n### 6. View Tabs UI\n- [ ] Tab bar\n- [ ] View type icons\n- [ ] Active view indicator\n- [ ] Add view button\n- [ ] View options menu\n\n### 7. Data Sources (Multi-source)\n- [ ] Combine multiple databases\n- [ ] Unified view\n- [ ] Property mapping\n- [ ] Filter by source\n\n### 8. API Endpoints\n```\nPOST   /api/databases/:id/views\nPUT    /api/databases/:id/views/:viewId\nDELETE /api/databases/:id/views/:viewId\nPUT    /api/databases/:id/views/reorder\nPOST   /api/databases/:id/link\n```\n\n### 9. Components\n- [ ] ViewTabs\n- [ ] ViewTab\n- [ ] AddViewButton\n- [ ] ViewOptionsMenu\n- [ ] LinkedDatabaseBlock\n\n## View Model\n```typescript\ninterface DatabaseView {\n  id: string;\n  databaseId: string;\n  name: string;\n  type: ViewType;\n  config: ViewConfig;\n  filters: Filter[];\n  sorts: Sort[];\n  visibleProperties: string[];\n  position: number;\n  isDefault: boolean;\n}\n```\n\n## Acceptance Criteria\n- [ ] Multiple views work\n- [ ] View tabs switch correctly\n- [ ] Each view has own settings\n- [ ] Linked views work\n- [ ] Linked views sync data\n- [ ] View CRUD operations work\n- [ ] View reordering works\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)\n- notionv2-clone-3eg (Table View)\n- notionv2-clone-4d8 (Board View)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:06:50.389658+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:06:50.389658+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-kd8","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-07T00:06:50.392405+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-kd8","depends_on_id":"notionv2-clone-3eg","type":"blocks","created_at":"2026-01-07T00:06:50.393841+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-kd8","depends_on_id":"notionv2-clone-4d8","type":"blocks","created_at":"2026-01-07T00:06:50.395307+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-kd8","depends_on_id":"notionv2-clone-fz9","type":"blocks","created_at":"2026-01-07T00:29:44.91835+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-kkb","title":"Database Form View","description":"## Overview\nImplement the Form view for database data collection.\n\n## Tech Stack\n- **Frontend**: TanStack Form, TanStack Query\n- **UI**: Shadcn UI\n- **Validation**: Zod\n\n## Features\n\n### 1. Form Builder\n- [ ] Select properties to include\n- [ ] Reorder form fields\n- [ ] Required field toggle\n- [ ] Field descriptions\n- [ ] Section headers\n\n### 2. Form Field Types\n- [ ] Text input (text, title)\n- [ ] Number input\n- [ ] Select dropdown\n- [ ] Multi-select checkboxes/pills\n- [ ] Status selector\n- [ ] Date picker\n- [ ] Person picker (if allowed)\n- [ ] File upload\n- [ ] Checkbox\n- [ ] URL input\n- [ ] Email input\n- [ ] Phone input\n\n### 3. Form Customization\n- [ ] Form title\n- [ ] Form description/instructions\n- [ ] Cover image\n- [ ] Thank you message\n- [ ] Redirect URL after submission\n\n### 4. Form Submission\n- [ ] Submit button text\n- [ ] Validation feedback\n- [ ] Success state\n- [ ] Error handling\n- [ ] Create database item on submit\n\n### 5. Public Form Sharing\n- [ ] Generate shareable URL\n- [ ] No authentication required\n- [ ] Form access settings\n- [ ] Collect submitter info option\n\n### 6. Form Response Tracking\n- [ ] Response count\n- [ ] Response timestamps\n- [ ] Submitter tracking (if enabled)\n\n### 7. Form Styling\n- [ ] Card-style layout\n- [ ] Clean, focused design\n- [ ] Mobile responsive\n- [ ] Custom branding options\n\n### 8. Components\n- [ ] FormView (edit mode)\n- [ ] FormPreview\n- [ ] FormPublic (public form page)\n- [ ] FormFieldEditor\n- [ ] FormFieldRenderer\n- [ ] FormSubmitButton\n- [ ] FormSuccessMessage\n\n### 9. API Endpoints\n```\nGET    /api/forms/:id\nPUT    /api/forms/:id/settings\nPOST   /api/forms/:id/submit (public)\nGET    /api/forms/:id/responses\n```\n\n## Form State\n```typescript\ninterface FormViewState {\n  title: string;\n  description: string;\n  coverUrl: string | null;\n  fields: FormField[];\n  submitButtonText: string;\n  thankYouMessage: string;\n  redirectUrl: string | null;\n  collectSubmitterInfo: boolean;\n}\n\ninterface FormField {\n  propertyId: string;\n  required: boolean;\n  description: string;\n  order: number;\n}\n```\n\n## Acceptance Criteria\n- [ ] Form builder works with all property types\n- [ ] Required field validation works\n- [ ] Form submission creates database item\n- [ ] Public form URL works without login\n- [ ] Thank you message displays\n- [ ] Form responses are tracked\n- [ ] Mobile-responsive design\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:53:06.012759+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:53:06.012759+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-kkb","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:53:06.016401+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-kkb","depends_on_id":"notionv2-clone-ss0","type":"blocks","created_at":"2026-01-07T00:27:45.840319+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-kl9","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-np1\n- **Test type**:  Database List View\n\n## Focus Areas\nfrontend:List render, row expansion, property display\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database List View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.158877+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.158877+07:00","labels":[" Database List View","test"],"dependencies":[{"issue_id":"notionv2-clone-kl9","depends_on_id":"notionv2-clone-np1","type":"blocks","created_at":"2026-01-07T00:27:44.943492+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-lnx","title":"Database Formula System","description":"## Overview\nImplement the formula property system with 100+ functions.\n\n## Tech Stack\n- **Backend**: Custom formula parser/evaluator\n- **Frontend**: Formula editor with autocomplete\n\n## Features\n\n### 1. Formula Editor\n- [ ] Code-style input field\n- [ ] Syntax highlighting\n- [ ] Auto-complete for functions\n- [ ] Auto-complete for properties\n- [ ] Error highlighting\n- [ ] Formula validation\n\n### 2. Property References\n- [ ] Reference other properties: prop(\"Name\")\n- [ ] Auto-complete property names\n- [ ] Handle all property types\n- [ ] Nested property access\n\n### 3. Text Functions\n```\nconcat(), join(), slice(), length(),\ncontains(), test(), match(), replace(), replaceAll(),\nlower(), upper(), repeat(), padStart(), padEnd(),\nsplit(), format(), toNumber()\n```\n\n### 4. Number Functions\n```\nadd(), subtract(), multiply(), divide(), mod(), pow(),\nabs(), ceil(), floor(), round(), sqrt(), cbrt(),\nexp(), ln(), log10(), log2(),\nmin(), max(), sum(), average(), median(),\nsign(), trunc()\n```\n\n### 5. Date Functions\n```\nnow(), today(),\ndateAdd(), dateSubtract(), dateBetween(),\nyear(), month(), day(), hour(), minute(), second(),\nformatDate(), parseDate(),\nstart(), end(),\ntimestamp(), fromTimestamp()\n```\n\n### 6. Logical Functions\n```\nif(), ifs(),\nand(), or(), not(),\nempty(), equal(),\ntrue, false\n```\n\n### 7. List Functions (for Multi-select, Relation)\n```\nat(), first(), last(),\nslice(), concat(),\nfilter(), find(), findIndex(),\nsome(), every(),\nmap(), flat(),\nsort(), reverse(), unique(),\nincludes(), length(),\njoin(), split()\n```\n\n### 8. Formula Return Types\n- [ ] Text\n- [ ] Number\n- [ ] Boolean\n- [ ] Date\n- [ ] List\n- [ ] Auto-detect return type\n\n### 9. Formula Evaluation\n- [ ] Server-side evaluation\n- [ ] Caching for performance\n- [ ] Re-evaluate on dependency change\n- [ ] Circular reference detection\n- [ ] Error handling\n\n### 10. AI Formula Generation\n- [ ] Natural language to formula\n- [ ] Suggest formula from description\n- [ ] Explain existing formula\n\n### 11. Components\n- [ ] FormulaEditor\n- [ ] FormulaAutocomplete\n- [ ] FormulaPreview\n- [ ] FormulaError\n- [ ] FormulaHelp (function docs)\n\n## Formula Parser Architecture\n```typescript\ninterface FormulaContext {\n  properties: PropertyValue[];\n  currentItem: DatabaseItem;\n}\n\ninterface FormulaResult {\n  value: any;\n  type: 'text' | 'number' | 'boolean' | 'date' | 'list';\n  error?: string;\n}\n\nfunction evaluateFormula(\n  formula: string,\n  context: FormulaContext\n): FormulaResult;\n```\n\n## Acceptance Criteria\n- [ ] Formula editor with syntax highlighting\n- [ ] All text functions work\n- [ ] All number functions work\n- [ ] All date functions work\n- [ ] All logical functions work\n- [ ] List functions work\n- [ ] Property references work\n- [ ] Nested formulas work\n- [ ] Errors display clearly\n- [ ] Auto-complete works\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:54:05.578917+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:54:05.578917+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-lnx","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:54:05.581902+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-lnx","depends_on_id":"notionv2-clone-j0w","type":"blocks","created_at":"2026-01-07T00:28:42.217085+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-lx7","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-ski\n- **Test type**:  Docker Deployment\n\n## Focus Areas\ndevops:Docker build, compose up, services healthy, migrations, env vars\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Docker Deployment","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:59.03259+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:59.03259+07:00","labels":[" Docker Deployment","test"],"dependencies":[{"issue_id":"notionv2-clone-lx7","depends_on_id":"notionv2-clone-ski","type":"blocks","created_at":"2026-01-07T00:29:48.176258+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-lyj","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-3eg\n- **Test type**:  Database Table View\n\n## Focus Areas\nfrontend:Table render, column resize/reorder, cell editing, row selection\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Table View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.04005+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.04005+07:00","labels":[" Database Table View","test"],"dependencies":[{"issue_id":"notionv2-clone-lyj","depends_on_id":"notionv2-clone-3eg","type":"blocks","created_at":"2026-01-07T00:27:44.682232+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-m07","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-eub\n- **Test type**:  Sharing \u0026 Permissions\n\n## Focus Areas\nfull-stack:Workspace/specific sharing, guest access, permission levels, public sharing\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Sharing \u0026 Permissions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.804633+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.804633+07:00","labels":[" Sharing \u0026 Permissions","test"],"dependencies":[{"issue_id":"notionv2-clone-m07","depends_on_id":"notionv2-clone-eub","type":"blocks","created_at":"2026-01-07T00:28:42.917732+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-m4n","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-2ys\n- **Test type**:  Workspace Management\n\n## Focus Areas\nfull-stack:Create/list/update/delete workspace, member management, switching\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Workspace Management","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.453893+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.453893+07:00","labels":[" Workspace Management","test"],"dependencies":[{"issue_id":"notionv2-clone-m4n","depends_on_id":"notionv2-clone-2ys","type":"blocks","created_at":"2026-01-07T00:27:02.165806+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-map","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-bw2\n- **Test type**:  Comments \u0026 Discussions\n\n## Focus Areas\nfull-stack:Page/block/inline comments, threads, @mentions, reactions\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Comments \u0026 Discussions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.746+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.746+07:00","labels":[" Comments \u0026 Discussions","test"],"dependencies":[{"issue_id":"notionv2-clone-map","depends_on_id":"notionv2-clone-bw2","type":"blocks","created_at":"2026-01-07T00:28:42.689976+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-mna","title":"Template System","description":"## Overview\nImplement template system for pages and databases with template gallery.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Backend**: Hono, Drizzle ORM\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Page Templates\n- [ ] Create template from page\n- [ ] Apply template to new page\n- [ ] Template gallery\n- [ ] Template categories\n- [ ] Template preview\n\n### 2. Database Templates\n- [ ] Default template for new items\n- [ ] Multiple templates per database\n- [ ] Template button in new item\n- [ ] Template preview with properties\n\n### 3. Recurring Templates\n- [ ] Schedule template creation\n- [ ] Repeat options (daily, weekly, monthly)\n- [ ] Custom repeat patterns\n- [ ] Auto-create on schedule\n\n### 4. Template Gallery\n- [ ] Built-in templates\n- [ ] Workspace templates\n- [ ] Community templates (future)\n- [ ] Template search\n- [ ] Category filtering\n\n### 5. Template Categories\n- [ ] Personal\n- [ ] Meeting Notes\n- [ ] Project Management\n- [ ] Engineering\n- [ ] Design\n- [ ] Marketing\n- [ ] HR\n- [ ] Sales\n- [ ] Custom categories\n\n### 6. Template Button Block\n- [ ] Button with template\n- [ ] Click creates content\n- [ ] Inline or child page\n- [ ] Customizable button text\n\n### 7. API Endpoints\n```\nGET    /api/templates\nGET    /api/templates/:id\nPOST   /api/templates\nPUT    /api/templates/:id\nDELETE /api/templates/:id\nPOST   /api/templates/:id/apply\nGET    /api/databases/:id/templates\nPOST   /api/databases/:id/templates\nPUT    /api/databases/:id/templates/:templateId/default\n```\n\n### 8. Components\n- [ ] TemplateGallery\n- [ ] TemplateCard\n- [ ] TemplatePreview\n- [ ] TemplateCreator\n- [ ] RecurringTemplateConfig\n- [ ] TemplateButton\n\n## Acceptance Criteria\n- [ ] Page templates work\n- [ ] Database item templates work\n- [ ] Template gallery displays\n- [ ] Recurring templates auto-create\n- [ ] Template button block works\n- [ ] Templates duplicate correctly\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:57:32.686464+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:57:32.686464+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-mna","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:57:32.690028+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-mna","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:57:32.691933+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-mna","depends_on_id":"notionv2-clone-m07","type":"blocks","created_at":"2026-01-07T00:28:43.221654+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-mqc","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-5lr\n- **Test type**:  Database Calendar View\n\n## Focus Areas\nfrontend:Calendar render, day/week/month views, event drag/creation\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Calendar View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.215459+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.215459+07:00","labels":[" Database Calendar View","test"],"dependencies":[{"issue_id":"notionv2-clone-mqc","depends_on_id":"notionv2-clone-5lr","type":"blocks","created_at":"2026-01-07T00:27:45.170207+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-mub","title":"Keyboard Shortcuts System","description":"## Overview\nImplement comprehensive keyboard shortcuts with customization.\n\n## Tech Stack\n- **Frontend**: Custom hook or react-hotkeys-hook\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Global Shortcuts\n- [ ] Cmd+K - Quick find\n- [ ] Cmd+N - New page\n- [ ] Cmd+Shift+N - New page in sidebar\n- [ ] Cmd+\\ - Toggle sidebar\n- [ ] Cmd+, - Settings\n- [ ] Cmd+P - Print\n\n### 2. Navigation Shortcuts\n- [ ] Cmd+[ - Go back\n- [ ] Cmd+] - Go forward\n- [ ] Cmd+U - Go to parent page\n- [ ] Cmd+Shift+L - Toggle dark mode\n\n### 3. Editor Shortcuts\n- [ ] Cmd+B - Bold\n- [ ] Cmd+I - Italic\n- [ ] Cmd+U - Underline\n- [ ] Cmd+Shift+S - Strikethrough\n- [ ] Cmd+E - Inline code\n- [ ] Cmd+Shift+H - Highlight\n- [ ] Cmd+K - Add link\n- [ ] Cmd+Shift+K - Remove link\n\n### 4. Block Shortcuts\n- [ ] Cmd+Opt+0 - Text\n- [ ] Cmd+Opt+1 - Heading 1\n- [ ] Cmd+Opt+2 - Heading 2\n- [ ] Cmd+Opt+3 - Heading 3\n- [ ] Cmd+Opt+4 - To-do\n- [ ] Cmd+Opt+5 - Bullet list\n- [ ] Cmd+Opt+6 - Numbered list\n- [ ] Cmd+Opt+7 - Toggle list\n- [ ] Cmd+Opt+8 - Code block\n- [ ] Cmd+Opt+9 - Quote\n\n### 5. Block Operations\n- [ ] Cmd+D - Duplicate block\n- [ ] Cmd+Shift+D - Delete block\n- [ ] Cmd+/ - Turn into\n- [ ] Tab - Indent\n- [ ] Shift+Tab - Outdent\n- [ ] Cmd+Enter - Open page\n\n### 6. Selection Shortcuts\n- [ ] Cmd+A - Select all\n- [ ] Esc - Clear selection\n- [ ] Shift+Up/Down - Extend selection\n- [ ] Cmd+Shift+A - Select all blocks\n\n### 7. Database Shortcuts\n- [ ] Cmd+Shift+\\ - New database view\n- [ ] Cmd+Enter - Open page in peek\n- [ ] Enter - Edit cell\n\n### 8. Undo/Redo\n- [ ] Cmd+Z - Undo\n- [ ] Cmd+Shift+Z - Redo\n\n### 9. Shortcut Help\n- [ ] Cmd+/ - Show shortcuts\n- [ ] Searchable shortcut list\n- [ ] Grouped by category\n\n### 10. Custom Shortcuts\n- [ ] Shortcut customization UI\n- [ ] Override default shortcuts\n- [ ] Reset to defaults\n\n### 11. Components\n- [ ] ShortcutProvider\n- [ ] ShortcutHelp modal\n- [ ] useShortcut hook\n- [ ] ShortcutSettings\n\n## Shortcut Registration\n```typescript\ninterface Shortcut {\n  id: string;\n  keys: string; // \"cmd+shift+k\"\n  action: () =\u003e void;\n  when?: () =\u003e boolean; // Condition\n  description: string;\n  category: string;\n}\n\nuseShortcut('cmd+b', () =\u003e toggleBold(), {\n  when: () =\u003e isEditing,\n});\n```\n\n## Acceptance Criteria\n- [ ] All shortcuts work correctly\n- [ ] No conflicts between shortcuts\n- [ ] Shortcuts work in correct context\n- [ ] Help modal shows all shortcuts\n- [ ] Custom shortcuts save\n- [ ] Platform-specific keys (Cmd/Ctrl)\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-wex (Rich Text Editor)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:03:32.625108+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:03:32.625108+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-mub","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:03:32.626944+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-mub","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-07T00:03:32.628092+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-mub","depends_on_id":"notionv2-clone-88l","type":"blocks","created_at":"2026-01-07T00:29:39.2046+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-n9d","title":"Search System (Full-Text \u0026 Quick Find)","description":"## Overview\nImplement full-text search and quick find (Cmd+K) functionality.\n\n## Tech Stack\n- **Backend**: PostgreSQL full-text search or Meilisearch/Typesense\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI Command component\n\n## Features\n\n### 1. Quick Find (Cmd+K)\n- [ ] Global keyboard shortcut\n- [ ] Command palette UI\n- [ ] Recent pages\n- [ ] Search as you type\n- [ ] Keyboard navigation\n\n### 2. Full-Text Search\n- [ ] Search page titles\n- [ ] Search page content\n- [ ] Search database items\n- [ ] Search property values\n- [ ] Search comments\n\n### 3. Search Filters\n- [ ] Filter by type (page, database, etc.)\n- [ ] Filter by workspace\n- [ ] Filter by teamspace\n- [ ] Filter by creator\n- [ ] Filter by date\n- [ ] Filter by location (in page)\n\n### 4. Search Results\n- [ ] Grouped by type\n- [ ] Page title + snippet\n- [ ] Highlighted matches\n- [ ] Breadcrumb path\n- [ ] Quick preview\n\n### 5. In-Page Search (Cmd+F)\n- [ ] Find in current page\n- [ ] Highlight matches\n- [ ] Navigate between matches\n- [ ] Replace (optional)\n\n### 6. Search Actions\n- [ ] Open result\n- [ ] Open in new tab\n- [ ] Copy link\n- [ ] Add to favorites\n\n### 7. Recent Searches\n- [ ] Search history\n- [ ] Clear history\n- [ ] Click to re-search\n\n### 8. Search Indexing\n- [ ] Index on page create/update\n- [ ] Index on block change\n- [ ] Background reindexing\n- [ ] Index status\n\n### 9. Performance\n- [ ] Debounced search\n- [ ] Result caching\n- [ ] Pagination/infinite scroll\n- [ ] Fast response (\u003c200ms)\n\n### 10. API Endpoints\n```\nGET /api/search?q=xxx\u0026type=xxx\u0026workspace=xxx\nGET /api/search/recent\nDELETE /api/search/recent\n```\n\n### 11. Components\n- [ ] SearchCommand (Cmd+K dialog)\n- [ ] SearchInput\n- [ ] SearchResults\n- [ ] SearchResultItem\n- [ ] SearchFilters\n- [ ] InPageSearch\n\n## Search Architecture\n```typescript\ninterface SearchQuery {\n  query: string;\n  types?: ('page' | 'database' | 'block')[];\n  workspaceId?: string;\n  teamspaceId?: string;\n  createdBy?: string;\n  dateRange?: { start: Date; end: Date };\n  limit?: number;\n  offset?: number;\n}\n\ninterface SearchResult {\n  type: string;\n  id: string;\n  title: string;\n  snippet: string;\n  highlights: string[];\n  path: Breadcrumb[];\n  score: number;\n}\n```\n\n## Acceptance Criteria\n- [ ] Cmd+K opens search\n- [ ] Title search works\n- [ ] Content search works\n- [ ] Filters work correctly\n- [ ] Results highlight matches\n- [ ] Recent pages show\n- [ ] In-page search works\n- [ ] Search is fast (\u003c200ms)\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-wex (Rich Text Editor)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:58:01.909175+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:58:01.909175+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-n9d","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:58:01.914241+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-n9d","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-06T23:58:01.915906+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-n9d","depends_on_id":"notionv2-clone-4ek","type":"blocks","created_at":"2026-01-07T00:28:43.463818+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-np1","title":"Database List View","description":"## Overview\nImplement the compact List view for databases.\n\n## Tech Stack\n- **Frontend**: TanStack Query, TanStack Virtual\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. List Structure\n- [ ] Compact row per item\n- [ ] Title as primary display\n- [ ] Selected properties inline\n- [ ] Property pills/badges\n\n### 2. Row Display\n- [ ] Page icon\n- [ ] Title (clickable)\n- [ ] Properties in compact format\n- [ ] Hover to show more\n\n### 3. List Options\n- [ ] Show/hide properties\n- [ ] Property order configuration\n- [ ] Compact vs relaxed spacing\n\n### 4. Grouping\n- [ ] Group by any property\n- [ ] Collapsible groups\n- [ ] Group counts\n- [ ] Toggle groups visibility\n\n### 5. Row Actions\n- [ ] Click to open page\n- [ ] Hover actions (open, delete)\n- [ ] Right-click menu\n- [ ] Checkbox for selection\n\n### 6. Components\n- [ ] ListView container\n- [ ] ListGroup\n- [ ] ListItem\n- [ ] ListItemProperties\n\n## List State\n```typescript\ninterface ListViewState {\n  groupBy: string | null;\n  visibleProperties: string[];\n  collapsedGroups: string[];\n}\n```\n\n## Acceptance Criteria\n- [ ] List displays items compactly\n- [ ] Properties show inline\n- [ ] Grouping works\n- [ ] Click opens page\n- [ ] Virtual scroll for performance\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:49:52.352972+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:49:52.352972+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-np1","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:49:52.355284+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-np1","depends_on_id":"notionv2-clone-pmg","type":"blocks","created_at":"2026-01-07T00:27:45.059773+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-nwf","title":"Database Schema Design","description":"## Overview\nDesign and implement the complete PostgreSQL database schema using Drizzle ORM for all Notion Clone features.\n\n## Tech Stack\n- **Database**: PostgreSQL 16\n- **ORM**: Drizzle ORM\n- **Migrations**: drizzle-kit\n\n## Complete Schema Design\n\n### 1. Users \u0026 Authentication\n- users, sessions, oauth_accounts, password_reset_tokens, backup_codes tables\n\n### 2. Workspaces\n- workspaces, workspace_members, teamspaces, teamspace_members tables\n\n### 3. Pages\n- pages, page_favorites, page_versions, page_views tables\n- Supports nested pages via parentId with materialized path\n\n### 4. Blocks\n- blocks table with block_type enum supporting 30+ block types\n- Synced blocks support via syncedFromId\n\n### 5. Databases \u0026 Properties\n- databases, database_properties, select_options, database_views\n- database_item_properties, database_relations, relation_values\n\n### 6. Comments\n- comments (page-level, block-level, inline), comment_reactions\n\n### 7. Permissions\n- page_permissions, groups, group_members, public_page_settings\n- Permission levels: full_access, can_edit, can_edit_content, can_comment, can_view\n\n### 8. Files\n- files table for all uploaded media\n\n### 9. Templates\n- templates with recurring support\n\n### 10. Notifications \u0026 Activity\n- notifications, activity_log\n\n### 11. Integrations \u0026 API\n- api_keys, webhooks\n\n### 12. User Preferences\n- user_preferences, recent_pages\n\n## Tasks\n- [ ] Create all schema files in /db/schema/\n- [ ] Define all enums (block_type, property_type, permission_level)\n- [ ] Set up table relations with Drizzle\n- [ ] Create all indexes for performance\n- [ ] Generate initial migration\n- [ ] Create seed data for development\n- [ ] Test cascade deletes\n\n## Acceptance Criteria\n- [ ] All 25+ tables created\n- [ ] Foreign key relationships work correctly\n- [ ] Indexes created for frequently queried columns\n- [ ] Migrations run without errors\n- [ ] Seed data loads correctly\n\n## Dependencies\n- notionv2-clone-bny (Backend Setup)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:41:50.268678+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:41:50.268678+07:00","labels":["backend","database","feature","priority-critical"],"dependencies":[{"issue_id":"notionv2-clone-nwf","depends_on_id":"notionv2-clone-bny","type":"blocks","created_at":"2026-01-06T23:41:50.272993+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-nwf","depends_on_id":"notionv2-clone-qv1","type":"blocks","created_at":"2026-01-07T00:27:01.865827+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-ot4","title":"Backlinks \u0026 Page Connections","description":"## Overview\nImplement backlinks to show pages linking to the current page.\n\n## Tech Stack\n- **Backend**: Hono, Drizzle ORM\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Backlink Detection\n- [ ] Detect page mentions in content\n- [ ] Detect relation links\n- [ ] Update on content change\n- [ ] Background indexing\n\n### 2. Backlinks Display\n- [ ] Backlinks section on page\n- [ ] Linking page title\n- [ ] Link context snippet\n- [ ] Link count badge\n\n### 3. Backlinks Panel\n- [ ] Expandable section\n- [ ] List of linking pages\n- [ ] Click to navigate\n- [ ] Group by database (optional)\n\n### 4. Unlinked Mentions\n- [ ] Find pages mentioning title text\n- [ ] Suggest creating links\n- [ ] One-click link creation\n\n### 5. Page Graph (Optional)\n- [ ] Visual connection graph\n- [ ] Nodes = pages\n- [ ] Edges = links\n- [ ] Interactive navigation\n\n### 6. API Endpoints\n```\nGET /api/pages/:id/backlinks\nGET /api/pages/:id/unlinked-mentions\nPOST /api/pages/:id/link-mention\n```\n\n### 7. Components\n- [ ] BacklinksPanel\n- [ ] BacklinkItem\n- [ ] UnlinkedMentions\n- [ ] PageGraph (optional)\n\n## Backlink Model\n```typescript\ninterface Backlink {\n  sourcePageId: string;\n  sourceBlockId: string;\n  targetPageId: string;\n  context: string; // Text around the link\n  createdAt: Date;\n}\n```\n\n## Acceptance Criteria\n- [ ] Backlinks detect correctly\n- [ ] Backlinks display on page\n- [ ] Click navigates to source\n- [ ] Unlinked mentions found\n- [ ] Link creation works\n- [ ] Real-time updates\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-hdt (Inline Elements \u0026 Mentions)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:07:41.372546+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:07:41.372546+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-ot4","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:07:41.391917+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ot4","depends_on_id":"notionv2-clone-hdt","type":"blocks","created_at":"2026-01-07T00:07:41.395413+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ot4","depends_on_id":"notionv2-clone-3oa","type":"blocks","created_at":"2026-01-07T00:29:46.890332+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-pkq","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-yoh\n- **Test type**:  AI Writing Assistant\n\n## Focus Areas\nfull-stack:AI text generation, improve writing, summarize, translate\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: AI Writing Assistant","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.2776+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.2776+07:00","labels":[" AI Writing Assistant","test"],"dependencies":[{"issue_id":"notionv2-clone-pkq","depends_on_id":"notionv2-clone-yoh","type":"blocks","created_at":"2026-01-07T00:29:04.958205+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-plt","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-kkb\n- **Test type**:  Database Form View\n\n## Focus Areas\nfull-stack:Form render, submission, validation, public access\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Form View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.449908+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.449908+07:00","labels":[" Database Form View","test"],"dependencies":[{"issue_id":"notionv2-clone-plt","depends_on_id":"notionv2-clone-kkb","type":"blocks","created_at":"2026-01-07T00:27:45.776598+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-pmg","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-4d8\n- **Test type**:  Database Board/Kanban View\n\n## Focus Areas\nfrontend:Board render, card drag, column creation, grouping\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Board/Kanban View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.100421+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.100421+07:00","labels":[" Database Board/Kanban View","test"],"dependencies":[{"issue_id":"notionv2-clone-pmg","depends_on_id":"notionv2-clone-4d8","type":"blocks","created_at":"2026-01-07T00:27:44.809098+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-pv3","title":"REST API \u0026 Webhooks","description":"## Overview\nImplement public REST API and webhook system for integrations.\n\n## Tech Stack\n- **Backend**: Hono\n- **Documentation**: OpenAPI/Swagger\n- **Auth**: API Keys\n\n## Features\n\n### 1. API Authentication\n- [ ] API key generation\n- [ ] API key management\n- [ ] Key permissions/scopes\n- [ ] Rate limiting per key\n- [ ] Key usage analytics\n\n### 2. API Endpoints\n```\n# Pages\nGET    /v1/pages/:id\nPOST   /v1/pages\nPATCH  /v1/pages/:id\nDELETE /v1/pages/:id\nGET    /v1/pages/:id/children\n\n# Blocks\nGET    /v1/blocks/:id\nGET    /v1/blocks/:id/children\nPATCH  /v1/blocks/:id\nDELETE /v1/blocks/:id\nPOST   /v1/blocks/:id/children\n\n# Databases\nGET    /v1/databases/:id\nPOST   /v1/databases\nPATCH  /v1/databases/:id\nPOST   /v1/databases/:id/query\n\n# Users\nGET    /v1/users\nGET    /v1/users/:id\nGET    /v1/users/me\n\n# Search\nPOST   /v1/search\n\n# Comments\nGET    /v1/comments?block_id=xxx\nPOST   /v1/comments\n```\n\n### 3. API Response Format\n```typescript\ninterface APIResponse\u003cT\u003e {\n  object: string;\n  results?: T[];\n  next_cursor?: string;\n  has_more?: boolean;\n}\n```\n\n### 4. Pagination\n- [ ] Cursor-based pagination\n- [ ] Page size parameter\n- [ ] Has more indicator\n- [ ] Consistent across endpoints\n\n### 5. API Documentation\n- [ ] OpenAPI specification\n- [ ] Swagger UI\n- [ ] Code examples\n- [ ] Interactive testing\n\n### 6. Webhooks\n- [ ] Create webhook\n- [ ] Event types:\n  - page.created\n  - page.updated\n  - page.deleted\n  - database.row_created\n  - database.row_updated\n  - database.row_deleted\n  - comment.created\n- [ ] Webhook secret for verification\n- [ ] Retry on failure\n- [ ] Webhook logs\n\n### 7. Webhook Management\n- [ ] List webhooks\n- [ ] Create webhook\n- [ ] Update webhook\n- [ ] Delete webhook\n- [ ] Test webhook\n- [ ] View delivery history\n\n### 8. API Versioning\n- [ ] Version in URL (/v1/)\n- [ ] Deprecation notices\n- [ ] Version header option\n\n### 9. Rate Limiting\n- [ ] Requests per minute\n- [ ] Rate limit headers\n- [ ] 429 responses\n- [ ] Burst allowance\n\n### 10. Components (Admin UI)\n- [ ] APIKeyManager\n- [ ] APIKeyCreate\n- [ ] APIDocumentation\n- [ ] WebhookManager\n- [ ] WebhookCreate\n- [ ] WebhookLogs\n\n## API Key Model\n```typescript\ninterface APIKey {\n  id: string;\n  workspaceId: string;\n  name: string;\n  keyHash: string;\n  keyPrefix: string;\n  permissions: string[];\n  lastUsedAt: Date;\n  expiresAt: Date | null;\n  createdAt: Date;\n}\n```\n\n## Acceptance Criteria\n- [ ] API keys can be created\n- [ ] All CRUD endpoints work\n- [ ] Pagination works\n- [ ] Rate limiting works\n- [ ] API docs accessible\n- [ ] Webhooks fire on events\n- [ ] Webhook retry works\n- [ ] API versioning works\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-0xd (Database Core)\n- notionv2-clone-bw2 (Comments)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:03:03.98049+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:03:03.98049+07:00","labels":["api","backend","feature"],"dependencies":[{"issue_id":"notionv2-clone-pv3","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:03:03.982384+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-pv3","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-07T00:03:03.983741+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-pv3","depends_on_id":"notionv2-clone-bw2","type":"blocks","created_at":"2026-01-07T00:03:03.98471+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-pv3","depends_on_id":"notionv2-clone-1ux","type":"blocks","created_at":"2026-01-07T00:29:06.24002+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-qv1","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-bny\n- **Test type**:  Backend Setup (Hono)\n\n## Focus Areas\nbackend:Hono server, health check, CORS, error handling\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Backend Setup (Hono)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.22493+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.22493+07:00","labels":[" Backend Setup (Hono)","test"],"dependencies":[{"issue_id":"notionv2-clone-qv1","depends_on_id":"notionv2-clone-bny","type":"blocks","created_at":"2026-01-07T00:27:01.744842+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-r6r","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-nwf\n- **Test type**:  Database Schema (Drizzle)\n\n## Focus Areas\nbackend:Migrations, schema types, foreign keys, indexes, seed data\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Schema (Drizzle)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.285244+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.285244+07:00","labels":[" Database Schema (Drizzle)","test"],"dependencies":[{"issue_id":"notionv2-clone-r6r","depends_on_id":"notionv2-clone-nwf","type":"blocks","created_at":"2026-01-07T00:27:01.804336+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-rj6","title":"Export System (Markdown, HTML, PDF, CSV)","description":"## Overview\nImplement export functionality for various file formats.\n\n## Tech Stack\n- **Backend**: Hono\n- **PDF**: Puppeteer or jsPDF\n- **Frontend**: TanStack Query\n- **Generators**: Custom serializers\n\n## Features\n\n### 1. Markdown Export\n- [ ] Export page as .md\n- [ ] Include subpages option\n- [ ] Export database as table\n- [ ] Preserve formatting\n- [ ] Handle images (embed or link)\n- [ ] Frontmatter option\n\n### 2. HTML Export\n- [ ] Export page as .html\n- [ ] Include styles\n- [ ] Self-contained file\n- [ ] Include subpages option\n\n### 3. PDF Export\n- [ ] Export page as PDF\n- [ ] Page size options (A4, Letter)\n- [ ] Include subpages\n- [ ] Table of contents option\n- [ ] Header/footer options\n- [ ] Page numbers\n\n### 4. CSV Export\n- [ ] Export database as .csv\n- [ ] All properties or selected\n- [ ] Include relations (IDs or titles)\n- [ ] Handle multi-select\n- [ ] UTF-8 encoding\n\n### 5. Bulk Export\n- [ ] Export entire workspace\n- [ ] Export teamspace\n- [ ] ZIP archive\n- [ ] Progress indicator\n\n### 6. Export Options\n- [ ] Include subpages\n- [ ] Include databases\n- [ ] Include files\n- [ ] File naming pattern\n- [ ] Folder structure\n\n### 7. API Endpoints\n```\nPOST /api/export/page/:id\nPOST /api/export/database/:id\nPOST /api/export/workspace/:id\nGET  /api/export/:jobId/status\nGET  /api/export/:jobId/download\n```\n\n### 8. Components\n- [ ] ExportDialog\n- [ ] ExportFormatSelector\n- [ ] ExportOptions\n- [ ] ExportProgress\n- [ ] DownloadButton\n\n## Export Flow\n```\n1. Select pages/databases\n2. Choose format\n3. Set options\n4. Start export job\n5. Download when ready\n```\n\n## Acceptance Criteria\n- [ ] Markdown export works\n- [ ] HTML export works\n- [ ] PDF export works\n- [ ] CSV export works\n- [ ] Bulk export works\n- [ ] Progress tracking works\n- [ ] Download works\n\n## Dependencies\n- notionv2-clone-a5p (Page CRUD)\n- notionv2-clone-0xd (Database Core)\n- notionv2-clone-wex (Rich Text Editor)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:01:12.943684+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:01:12.943684+07:00","labels":["backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-rj6","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-07T00:01:12.945586+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-rj6","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-07T00:01:12.946942+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-rj6","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-07T00:01:12.948022+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-rj6","depends_on_id":"notionv2-clone-3jn","type":"blocks","created_at":"2026-01-07T00:29:04.360726+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-s2r","title":"Accessibility (a11y) Implementation","description":"## Overview\nImplement comprehensive accessibility features for WCAG compliance.\n\n## Tech Stack\n- **Frontend**: React, ARIA attributes\n- **Testing**: axe-core, jest-axe\n- **UI**: Shadcn UI (already accessible)\n\n## Features\n\n### 1. Keyboard Navigation\n- [ ] Full keyboard navigation\n- [ ] Focus management\n- [ ] Focus visible indicators\n- [ ] Skip links\n- [ ] Logical tab order\n\n### 2. Screen Reader Support\n- [ ] Semantic HTML\n- [ ] ARIA labels\n- [ ] ARIA roles\n- [ ] ARIA live regions\n- [ ] Announcements for actions\n\n### 3. Focus Management\n- [ ] Focus trapping in modals\n- [ ] Focus restoration\n- [ ] Focus ring visibility\n- [ ] Roving tabindex for lists\n\n### 4. Color \u0026 Contrast\n- [ ] WCAG AA contrast ratios\n- [ ] Color not sole indicator\n- [ ] High contrast mode support\n\n### 5. Text \u0026 Typography\n- [ ] Resizable text\n- [ ] Readable font sizes\n- [ ] Line height for readability\n- [ ] Text spacing support\n\n### 6. Images \u0026 Media\n- [ ] Alt text for images\n- [ ] Decorative image handling\n- [ ] Video captions (future)\n- [ ] Audio transcripts (future)\n\n### 7. Forms\n- [ ] Label associations\n- [ ] Error identification\n- [ ] Required field indicators\n- [ ] Input descriptions\n\n### 8. Motion \u0026 Animation\n- [ ] Reduced motion support\n- [ ] Pause/stop controls\n- [ ] No auto-playing media\n\n### 9. Testing\n- [ ] axe-core integration\n- [ ] Automated a11y tests\n- [ ] Manual testing checklist\n- [ ] Screen reader testing\n\n### 10. Documentation\n- [ ] Accessibility statement\n- [ ] Keyboard shortcuts help\n- [ ] Known issues list\n\n## ARIA Implementation\n```typescript\n// Example accessible component\n\u003cbutton\n  aria-label=\"Create new page\"\n  aria-describedby=\"create-help\"\n  onClick={createPage}\n\u003e\n  \u003cPlusIcon aria-hidden=\"true\" /\u003e\n\u003c/button\u003e\n```\n\n## Acceptance Criteria\n- [ ] All interactive elements keyboard accessible\n- [ ] Screen reader can navigate all content\n- [ ] Color contrast meets WCAG AA\n- [ ] Focus indicators visible\n- [ ] Forms properly labeled\n- [ ] Reduced motion respected\n- [ ] axe-core reports no critical issues\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:05:55.704646+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:05:55.704646+07:00","labels":["accessibility","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-s2r","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:05:55.71067+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-s2r","depends_on_id":"notionv2-clone-e21","type":"blocks","created_at":"2026-01-07T00:29:43.160531+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-ski","title":"Docker Deployment Setup","description":"## Overview\nImplement Docker-based deployment setup for the complete application.\n\n## Tech Stack\n- **Containerization**: Docker\n- **Orchestration**: Docker Compose\n- **Reverse Proxy**: Traefik or Nginx\n\n## Features\n\n### 1. Frontend Docker\n- [ ] Dockerfile for frontend\n- [ ] Multi-stage build\n- [ ] Production optimization\n- [ ] Static file serving\n\n### 2. Backend Docker\n- [ ] Dockerfile for backend\n- [ ] Multi-stage build\n- [ ] Environment variables\n- [ ] Health check\n\n### 3. Database Setup\n- [ ] PostgreSQL container\n- [ ] Volume for persistence\n- [ ] Initialization scripts\n- [ ] Backup configuration\n\n### 4. Docker Compose\n```yaml\nservices:\n  frontend:\n    build: ./frontend\n    ports:\n      - \"3000:3000\"\n    depends_on:\n      - backend\n\n  backend:\n    build: ./backend\n    ports:\n      - \"8000:8000\"\n    environment:\n      DATABASE_URL: postgresql://...\n    depends_on:\n      - db\n\n  db:\n    image: postgres:16-alpine\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    environment:\n      POSTGRES_DB: notion_clone\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n### 5. Environment Configuration\n- [ ] .env.example files\n- [ ] Production .env template\n- [ ] Secret management\n- [ ] Environment validation\n\n### 6. Reverse Proxy\n- [ ] Traefik or Nginx config\n- [ ] SSL/TLS termination\n- [ ] Domain routing\n- [ ] WebSocket support\n\n### 7. Development Setup\n- [ ] docker-compose.dev.yml\n- [ ] Hot reload support\n- [ ] Volume mounts for code\n- [ ] Debug ports\n\n### 8. Production Setup\n- [ ] docker-compose.prod.yml\n- [ ] Resource limits\n- [ ] Logging configuration\n- [ ] Restart policies\n\n### 9. CI/CD Ready\n- [ ] GitHub Actions workflow\n- [ ] Build and push images\n- [ ] Deploy scripts\n- [ ] Health checks\n\n### 10. Documentation\n- [ ] Deployment README\n- [ ] Environment variables guide\n- [ ] Backup/restore guide\n- [ ] Scaling guide\n\n## Directory Structure\n```\n/\n├── frontend/\n│   ├── Dockerfile\n│   └── ...\n├── backend/\n│   ├── Dockerfile\n│   └── ...\n├── docker-compose.yml\n├── docker-compose.dev.yml\n├── docker-compose.prod.yml\n├── .env.example\n└── deploy/\n    ├── nginx.conf\n    └── traefik/\n```\n\n## Acceptance Criteria\n- [ ] All containers build successfully\n- [ ] docker-compose up starts all services\n- [ ] Frontend accessible at port 3000\n- [ ] Backend accessible at port 8000\n- [ ] Database persists across restarts\n- [ ] WebSocket connections work\n- [ ] Production builds optimized\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-bny (Backend Setup)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:08:04.925387+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:08:04.925387+07:00","labels":["devops","infrastructure","priority-high"],"dependencies":[{"issue_id":"notionv2-clone-ski","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:08:04.927692+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ski","depends_on_id":"notionv2-clone-bny","type":"blocks","created_at":"2026-01-07T00:08:04.929041+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ski","depends_on_id":"notionv2-clone-1bv","type":"blocks","created_at":"2026-01-07T00:29:48.247894+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-ski","depends_on_id":"notionv2-clone-28k","type":"blocks","created_at":"2026-01-07T00:29:49.386676+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-ss0","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-sxw\n- **Test type**:  Database Chart View\n\n## Focus Areas\nfrontend:Bar/line/pie charts, chart config\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Chart View","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:57.391541+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:57.391541+07:00","labels":[" Database Chart View","test"],"dependencies":[{"issue_id":"notionv2-clone-ss0","depends_on_id":"notionv2-clone-sxw","type":"blocks","created_at":"2026-01-07T00:27:45.623507+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-sxw","title":"Database Chart View","description":"## Overview\nImplement the Chart view for database data visualization.\n\n## Tech Stack\n- **Frontend**: TanStack Query\n- **Charts**: Recharts or Chart.js or Visx\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Chart Types\n- [ ] Bar chart (vertical)\n- [ ] Horizontal bar chart\n- [ ] Stacked bar chart\n- [ ] Line chart\n- [ ] Area chart\n- [ ] Pie chart\n- [ ] Donut chart\n\n### 2. Data Configuration\n- [ ] X-axis property selection\n- [ ] Y-axis metric selection:\n  - Count\n  - Sum\n  - Average\n  - Min\n  - Max\n- [ ] Y-axis property (for sum/avg)\n- [ ] Group by property (for stacking)\n\n### 3. Chart Customization\n- [ ] Chart title\n- [ ] Axis labels\n- [ ] Legend position\n- [ ] Color scheme\n- [ ] Show/hide labels\n- [ ] Show/hide grid\n\n### 4. Interactive Features\n- [ ] Hover tooltips\n- [ ] Click to filter view\n- [ ] Zoom/pan (line charts)\n- [ ] Legend click to hide series\n\n### 5. Responsive Design\n- [ ] Full-width container\n- [ ] Maintain aspect ratio\n- [ ] Mobile-friendly\n\n### 6. Data Processing\n- [ ] Aggregate data by X-axis\n- [ ] Calculate Y-axis metrics\n- [ ] Handle null/empty values\n- [ ] Date grouping (day/week/month)\n\n### 7. Components\n- [ ] ChartView container\n- [ ] ChartTypeSelector\n- [ ] ChartConfigPanel\n- [ ] BarChart\n- [ ] LineChart\n- [ ] PieChart\n- [ ] ChartLegend\n- [ ] ChartTooltip\n\n## Chart State\n```typescript\ninterface ChartViewState {\n  chartType: 'bar' | 'horizontal_bar' | 'line' | 'pie' | 'donut';\n  xAxisProperty: string;\n  yAxisMetric: 'count' | 'sum' | 'avg' | 'min' | 'max';\n  yAxisProperty: string | null;\n  groupBy: string | null;\n  stacked: boolean;\n  showLegend: boolean;\n  showLabels: boolean;\n  colorScheme: string;\n}\n```\n\n## Acceptance Criteria\n- [ ] Bar charts display correctly\n- [ ] Line charts display correctly\n- [ ] Pie/donut charts display correctly\n- [ ] All metric calculations work\n- [ ] Grouping/stacking works\n- [ ] Tooltips show on hover\n- [ ] Legend toggles series\n- [ ] Responsive on all screen sizes\n\n## Dependencies\n- notionv2-clone-0xd (Database Core)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:52:37.182892+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:52:37.182892+07:00","labels":["feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-sxw","depends_on_id":"notionv2-clone-0xd","type":"blocks","created_at":"2026-01-06T23:52:37.187518+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-sxw","depends_on_id":"notionv2-clone-10m","type":"blocks","created_at":"2026-01-07T00:27:45.686711+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-tdo","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-655\n- **Test type**:  Block Drag \u0026 Drop\n\n## Focus Areas\nfrontend:Drag handle, block reordering, nested moves, cross-column\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Block Drag \u0026 Drop","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:56.92368+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:56.92368+07:00","labels":[" Block Drag \u0026 Drop","test"],"dependencies":[{"issue_id":"notionv2-clone-tdo","depends_on_id":"notionv2-clone-655","type":"blocks","created_at":"2026-01-07T00:27:24.298296+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-wex","title":"Rich Text Editor Core (Slate.js)","description":"## Overview\nImplement the core rich text editor using Slate.js with basic formatting and structure.\n\n## Tech Stack\n- **Editor**: Slate.js (slate, slate-react, slate-history)\n- **Frontend**: TanStack Start, React\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. Slate.js Setup\n- [ ] Initialize Slate editor\n- [ ] Configure slate-react\n- [ ] Add slate-history for undo/redo\n- [ ] Define custom Element types\n- [ ] Define custom Text (Leaf) types\n- [ ] Create editor context provider\n\n### 2. Custom Element Types\n```typescript\ntype CustomElement =\n  | ParagraphElement\n  | HeadingElement\n  | BulletedListElement\n  | NumberedListElement\n  | ListItemElement\n  | ToDoElement\n  | ToggleElement\n  | QuoteElement\n  | CalloutElement\n  | DividerElement\n  | CodeBlockElement\n  // Media elements added in separate issue\n```\n\n### 3. Text Formatting (Marks)\n- [ ] Bold (Cmd+B)\n- [ ] Italic (Cmd+I)\n- [ ] Underline (Cmd+U)\n- [ ] Strikethrough\n- [ ] Code (inline)\n- [ ] Text color (10+ colors)\n- [ ] Background/highlight color\n\n### 4. Basic Blocks\n- [ ] Paragraph (default)\n- [ ] Heading 1 (# or Cmd+Opt+1)\n- [ ] Heading 2 (## or Cmd+Opt+2)\n- [ ] Heading 3 (### or Cmd+Opt+3)\n- [ ] Divider (--- )\n\n### 5. List Blocks\n- [ ] Bulleted list (- or *)\n- [ ] Numbered list (1.)\n- [ ] To-do/checkbox ([] or [x])\n- [ ] Toggle list (\u003e)\n- [ ] Nested lists (Tab to indent)\n- [ ] List item conversion\n\n### 6. Quote \u0026 Callout\n- [ ] Quote block (\")\n- [ ] Callout block with icon\n- [ ] Callout color variants\n\n### 7. Code Block\n- [ ] Code block with language selector\n- [ ] Syntax highlighting (100+ languages)\n- [ ] Copy code button\n- [ ] Line numbers option\n\n### 8. Slash Commands (/)\n- [ ] Command palette on '/'\n- [ ] Filter commands by typing\n- [ ] Keyboard navigation\n- [ ] Command categories\n- [ ] Recent commands\n\n### 9. Markdown Shortcuts\n- [ ] # for headings\n- [ ] - or * for bullets\n- [ ] 1. for numbered list\n- [ ] [] for to-do\n- [ ] \u003e for toggle/quote\n- [ ] --- for divider\n- [ ] ` for inline code\n- [ ] ``` for code block\n- [ ] ** for bold\n- [ ] * for italic\n\n### 10. Block Operations\n- [ ] Create new block on Enter\n- [ ] Delete empty block on Backspace\n- [ ] Merge with previous on Backspace\n- [ ] Split block on Enter (in middle)\n- [ ] Convert block type\n- [ ] Indent/outdent (Tab/Shift+Tab)\n\n### 11. Selection \u0026 Cursor\n- [ ] Block selection\n- [ ] Multi-block selection\n- [ ] Text selection across blocks\n- [ ] Cursor positioning\n- [ ] Selection toolbar (floating)\n\n### 12. Toolbar Components\n- [ ] Floating format toolbar\n- [ ] Block type selector\n- [ ] Color picker\n- [ ] Link button\n- [ ] Comment button\n\n### 13. Editor Components\n- [ ] SlateEditor (main component)\n- [ ] EditorToolbar (floating)\n- [ ] BlockWrapper (for each block)\n- [ ] SlashCommandMenu\n- [ ] ElementRenderers (for each type)\n- [ ] LeafRenderer (for marks)\n\n### 14. Undo/Redo\n- [ ] History tracking\n- [ ] Undo (Cmd+Z)\n- [ ] Redo (Cmd+Shift+Z)\n- [ ] History batching\n\n### 15. Serialization\n- [ ] Serialize to JSON (for storage)\n- [ ] Deserialize from JSON\n- [ ] Normalize content on load\n\n## Editor Architecture\n```\n/editor\n  /plugins\n    withHistory.ts\n    withShortcuts.ts\n    withLists.ts\n    withCodeBlock.ts\n  /elements\n    Paragraph.tsx\n    Heading.tsx\n    List.tsx\n    ...\n  /components\n    SlateEditor.tsx\n    Toolbar.tsx\n    SlashMenu.tsx\n  /utils\n    serialize.ts\n    deserialize.ts\n    transforms.ts\n  types.ts\n  index.ts\n```\n\n## Acceptance Criteria\n- [ ] Basic typing and editing works\n- [ ] All text formatting works\n- [ ] All basic block types work\n- [ ] Markdown shortcuts work\n- [ ] Slash commands work\n- [ ] Undo/redo works\n- [ ] Content saves to backend\n- [ ] Content loads correctly\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)\n- notionv2-clone-a5p (Page CRUD)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:44:49.240415+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:44:49.240415+07:00","labels":["feature","frontend","priority-critical"],"dependencies":[{"issue_id":"notionv2-clone-wex","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-06T23:44:49.243227+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-wex","depends_on_id":"notionv2-clone-a5p","type":"blocks","created_at":"2026-01-06T23:44:49.24467+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-wex","depends_on_id":"notionv2-clone-jky","type":"blocks","created_at":"2026-01-07T00:27:23.723539+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-wg6","title":"Localization (i18n) System","description":"## Overview\nImplement internationalization support for multiple languages.\n\n## Tech Stack\n- **Frontend**: i18next, react-i18next\n- **Backend**: Language detection\n- **Format**: JSON translation files\n\n## Features\n\n### 1. i18n Setup\n- [ ] i18next configuration\n- [ ] react-i18next integration\n- [ ] Language detection\n- [ ] Fallback language (English)\n\n### 2. Translation Files\n```\n/locales\n  /en\n    common.json\n    editor.json\n    database.json\n    settings.json\n  /es\n  /fr\n  /de\n  /ja\n  /ko\n  /zh\n  ...\n```\n\n### 3. Supported Languages\n- [ ] English (en)\n- [ ] Spanish (es)\n- [ ] French (fr)\n- [ ] German (de)\n- [ ] Japanese (ja)\n- [ ] Korean (ko)\n- [ ] Chinese (zh)\n- [ ] Portuguese (pt)\n- [ ] Italian (it)\n- [ ] Dutch (nl)\n- [ ] Russian (ru)\n- [ ] Arabic (ar) - RTL\n\n### 4. Translation Scope\n- [ ] Navigation labels\n- [ ] Button text\n- [ ] Form labels\n- [ ] Error messages\n- [ ] Placeholder text\n- [ ] Tooltips\n- [ ] Notifications\n- [ ] Email templates\n\n### 5. RTL Support\n- [ ] RTL stylesheet\n- [ ] Direction attribute\n- [ ] Layout mirroring\n- [ ] Arabic/Hebrew support\n\n### 6. Date/Time Localization\n- [ ] Localized date formats\n- [ ] Localized time formats\n- [ ] Relative time (\"2 days ago\")\n- [ ] Calendar localization\n\n### 7. Number Formatting\n- [ ] Number separators\n- [ ] Currency formatting\n- [ ] Percentage formatting\n\n### 8. Language Switching\n- [ ] Language selector\n- [ ] Persist preference\n- [ ] Reload-free switching\n- [ ] Browser language detection\n\n### 9. Translation Management\n- [ ] Missing translation warnings\n- [ ] Translation coverage report\n- [ ] Crowdin/Lokalise integration (future)\n\n### 10. Components\n- [ ] LanguageSelector\n- [ ] TranslatedText component\n- [ ] useTranslation hook usage\n\n## i18n Usage\n```typescript\nimport { useTranslation } from 'react-i18next';\n\nfunction MyComponent() {\n  const { t } = useTranslation();\n  \n  return (\n    \u003cbutton\u003e{t('common.save')}\u003c/button\u003e\n  );\n}\n```\n\n## Acceptance Criteria\n- [ ] English translations complete\n- [ ] At least 3 additional languages\n- [ ] Language switching works\n- [ ] Date/time localized\n- [ ] RTL layout works\n- [ ] No hardcoded strings\n- [ ] Email templates translated\n\n## Dependencies\n- notionv2-clone-d7k (Frontend Setup)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:06:21.120605+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:06:21.120605+07:00","labels":["feature","frontend","i18n"],"dependencies":[{"issue_id":"notionv2-clone-wg6","depends_on_id":"notionv2-clone-d7k","type":"blocks","created_at":"2026-01-07T00:06:21.124179+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-wg6","depends_on_id":"notionv2-clone-30k","type":"blocks","created_at":"2026-01-07T00:29:44.042879+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-xjo","title":"Tests","description":"## Test Scope\n- **Feature issue**: notionv2-clone-kd8\n- **Test type**:  Database Linked Views\n\n## Focus Areas\nfull-stack:Linked view creation/sync, multiple views per database\n\n## Test Checklist\n- [ ] Unit tests written\n- [ ] Integration tests written (if applicable)\n- [ ] E2E tests written (if applicable)\n- [ ] All tests passing\n- [ ] Coverage threshold met\n- [ ] verify-and-close.sh passes\n\n## Commands\npnpm test: Database Linked Views","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:25:58.801643+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:25:58.801643+07:00","labels":[" Database Linked Views","test"],"dependencies":[{"issue_id":"notionv2-clone-xjo","depends_on_id":"notionv2-clone-kd8","type":"blocks","created_at":"2026-01-07T00:29:44.822417+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-xru","title":"File Storage System (S3/Local)","description":"## Overview\nImplement abstracted file storage system supporting both local filesystem and AWS S3.\n\n## Tech Stack\n- **Backend**: Hono, Node.js streams\n- **Storage**: Local filesystem / AWS S3\n- **Image Processing**: Sharp\n\n## Features\n\n### 1. Storage Abstraction Layer\n```typescript\ninterface StorageAdapter {\n  upload(file: Buffer, path: string, options?: UploadOptions): Promise\u003cFileInfo\u003e;\n  delete(path: string): Promise\u003cvoid\u003e;\n  getUrl(path: string, expiresIn?: number): Promise\u003cstring\u003e;\n  exists(path: string): Promise\u003cboolean\u003e;\n  copy(source: string, destination: string): Promise\u003cvoid\u003e;\n  move(source: string, destination: string): Promise\u003cvoid\u003e;\n  list(prefix: string): Promise\u003cFileInfo[]\u003e;\n}\n```\n\n### 2. Local Storage Adapter\n- [ ] File upload to local directory\n- [ ] File deletion\n- [ ] Serve files via static route\n- [ ] Directory management\n- [ ] File path sanitization\n\n### 3. S3 Storage Adapter\n- [ ] AWS SDK v3 integration\n- [ ] Multipart upload for large files\n- [ ] Presigned URLs for direct upload\n- [ ] Presigned URLs for download\n- [ ] Bucket configuration\n- [ ] CORS configuration\n\n### 4. Image Processing (Sharp)\n- [ ] Image resizing (thumbnails)\n- [ ] Image cropping (avatars, covers)\n- [ ] Format conversion (WebP)\n- [ ] Quality optimization\n- [ ] Metadata extraction\n- [ ] EXIF orientation handling\n\n### 5. Upload Handling\n- [ ] Multipart form parsing\n- [ ] File type validation (whitelist)\n- [ ] File size limits\n- [ ] Virus scanning hook (optional)\n- [ ] Upload progress tracking\n- [ ] Chunked upload for large files\n\n### 6. API Endpoints\n```\nPOST   /api/files/upload\nPOST   /api/files/upload/presigned (S3 direct upload)\nGET    /api/files/:id\nDELETE /api/files/:id\nGET    /api/files/:id/download\nPOST   /api/files/:id/duplicate\n```\n\n### 7. File Organization\n```\n/{workspaceId}/\n  /avatars/{userId}.webp\n  /covers/{pageId}.webp\n  /icons/{pageId}.webp\n  /attachments/{pageId}/{fileId}/{filename}\n  /images/{pageId}/{fileId}.webp\n```\n\n### 8. Database Integration\n- [ ] File metadata storage\n- [ ] File-to-block associations\n- [ ] File-to-page associations\n- [ ] Orphan file cleanup job\n- [ ] Storage usage tracking\n\n### 9. Frontend Components\n- [ ] FileUploader component (drag \u0026 drop)\n- [ ] ImageUploader with cropping\n- [ ] FilePreview component\n- [ ] UploadProgress indicator\n- [ ] FileList component\n\n## Configuration\n```typescript\ninterface StorageConfig {\n  type: 'local' | 's3';\n  local?: {\n    basePath: string;\n    publicUrl: string;\n  };\n  s3?: {\n    bucket: string;\n    region: string;\n    accessKeyId: string;\n    secretAccessKey: string;\n    endpoint?: string; // For S3-compatible services\n  };\n  limits: {\n    maxFileSize: number;\n    allowedMimeTypes: string[];\n  };\n}\n```\n\n## Acceptance Criteria\n- [ ] Local storage upload/download works\n- [ ] S3 storage upload/download works\n- [ ] Image processing (resize, crop) works\n- [ ] File type validation enforced\n- [ ] Size limits enforced\n- [ ] Presigned URLs work for S3\n- [ ] Storage adapter is easily switchable\n- [ ] File cleanup works for orphaned files\n\n## Dependencies\n- notionv2-clone-bny (Backend Setup)\n- notionv2-clone-nwf (Database Schema)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T23:43:08.742763+07:00","created_by":"nayakayp","updated_at":"2026-01-06T23:43:08.742763+07:00","labels":["backend","feature","infrastructure"],"dependencies":[{"issue_id":"notionv2-clone-xru","depends_on_id":"notionv2-clone-bny","type":"blocks","created_at":"2026-01-06T23:43:08.745358+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-xru","depends_on_id":"notionv2-clone-nwf","type":"blocks","created_at":"2026-01-06T23:43:08.746773+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-xru","depends_on_id":"notionv2-clone-8y5","type":"blocks","created_at":"2026-01-07T00:29:48.100316+07:00","created_by":"nayakayp"}]}
{"id":"notionv2-clone-yoh","title":"AI Writing Assistant","description":"## Overview\nImplement AI-powered writing assistance features using LLM integration.\n\n## Tech Stack\n- **Backend**: Hono, OpenAI API / Anthropic API\n- **Frontend**: TanStack Query\n- **UI**: Shadcn UI\n\n## Features\n\n### 1. AI Integration\n- [ ] OpenAI GPT integration\n- [ ] Anthropic Claude integration (optional)\n- [ ] API key configuration\n- [ ] Rate limiting\n- [ ] Error handling\n\n### 2. Ask AI (General)\n- [ ] Slash command: /ask-ai\n- [ ] Natural language input\n- [ ] Insert AI response\n- [ ] Stream response\n\n### 3. Writing Assistance\n- [ ] Improve writing\n- [ ] Fix spelling \u0026 grammar\n- [ ] Make shorter\n- [ ] Make longer\n- [ ] Change tone (professional, casual, etc.)\n- [ ] Simplify language\n\n### 4. Content Generation\n- [ ] Continue writing\n- [ ] Write about topic\n- [ ] Brainstorm ideas\n- [ ] Create outline\n- [ ] Summarize content\n- [ ] Explain concept\n\n### 5. Translation\n- [ ] Translate to language\n- [ ] Language detection\n- [ ] Multiple language support\n\n### 6. AI Block\n- [ ] AI-generated content block\n- [ ] Regenerate option\n- [ ] Edit prompt\n- [ ] Insert as regular block\n\n### 7. Selection-Based AI\n- [ ] Select text\n- [ ] AI options in toolbar\n- [ ] Replace or insert below\n- [ ] Keep original option\n\n### 8. AI Sidebar\n- [ ] Chat with AI about page\n- [ ] Ask questions about content\n- [ ] Context-aware responses\n- [ ] Conversation history\n\n### 9. API Endpoints\n```\nPOST /api/ai/generate\nPOST /api/ai/improve\nPOST /api/ai/translate\nPOST /api/ai/summarize\nPOST /api/ai/chat\n```\n\n### 10. Components\n- [ ] AICommand (slash menu)\n- [ ] AIToolbar (selection)\n- [ ] AISidebar (chat)\n- [ ] AIBlock\n- [ ] AILoading\n- [ ] AIResult\n\n## AI Request Flow\n```typescript\ninterface AIRequest {\n  action: AIAction;\n  content?: string;\n  context?: string;\n  options?: {\n    tone?: string;\n    language?: string;\n    length?: 'shorter' | 'longer';\n  };\n}\n```\n\n## Acceptance Criteria\n- [ ] AI generation works\n- [ ] Improve writing works\n- [ ] Translation works\n- [ ] Summarization works\n- [ ] Streaming responses work\n- [ ] Selection-based AI works\n- [ ] Error handling graceful\n- [ ] Rate limiting works\n\n## Dependencies\n- notionv2-clone-wex (Rich Text Editor)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:02:12.994416+07:00","created_by":"nayakayp","updated_at":"2026-01-07T00:02:12.994416+07:00","labels":["ai","backend","feature","frontend"],"dependencies":[{"issue_id":"notionv2-clone-yoh","depends_on_id":"notionv2-clone-wex","type":"blocks","created_at":"2026-01-07T00:02:13.005629+07:00","created_by":"nayakayp"},{"issue_id":"notionv2-clone-yoh","depends_on_id":"notionv2-clone-2mt","type":"blocks","created_at":"2026-01-07T00:29:05.019446+07:00","created_by":"nayakayp"}]}
